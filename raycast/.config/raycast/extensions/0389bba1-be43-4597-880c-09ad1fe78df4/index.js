"use strict";var nt=Object.create;var Z=Object.defineProperty;var it=Object.getOwnPropertyDescriptor;var at=Object.getOwnPropertyNames;var st=Object.getPrototypeOf,ot=Object.prototype.hasOwnProperty;var ct=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),ut=(t,r)=>{for(var e in r)Z(t,e,{get:r[e],enumerable:!0})},Ae=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of at(r))!ot.call(t,i)&&i!==e&&Z(t,i,{get:()=>r[i],enumerable:!(n=it(r,i))||n.enumerable});return t};var Ee=(t,r,e)=>(e=t!=null?nt(st(t)):{},Ae(r||!t||!t.__esModule?Z(e,"default",{value:t,enumerable:!0}):e,t)),ht=t=>Ae(Z({},"__esModule",{value:!0}),t);var Ve=ct((lr,ze)=>{"use strict";function be(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,n)}return e}function G(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?be(Object(e),!0).forEach(function(n){ce(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):be(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function oe(t){return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oe(t)}function k(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ce(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I(t,r,e){return r&&Ce(t.prototype,r),e&&Ce(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ce(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function T(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),r&&ue(t,r)}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(t)}function ue(t,r){return ue=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ue(t,r)}function ft(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(t)}function P(t){var r=ft();return function(){var n=ee(t),i;if(r){var a=ee(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dt(this,i)}}function K(t){return gt(t)||vt(t)||mt(t)||pt()}function gt(t){if(Array.isArray(t))return he(t)}function vt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mt(t,r){if(!!t){if(typeof t=="string")return he(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return he(t,r)}}function he(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(t){return Array.isArray?Array.isArray(t):Fe(t)==="[object Array]"}var yt=1/0;function _t(t){if(typeof t=="string")return t;var r=t+"";return r=="0"&&1/t==-yt?"-0":r}function Mt(t){return t==null?"":_t(t)}function $(t){return typeof t=="string"}function Te(t){return typeof t=="number"}function St(t){return t===!0||t===!1||Lt(t)&&Fe(t)=="[object Boolean]"}function Pe(t){return oe(t)==="object"}function Lt(t){return Pe(t)&&t!==null}function A(t){return t!=null}function se(t){return!t.trim().length}function Fe(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var xt="Incorrect 'index' type",kt=function(r){return"Invalid value for key ".concat(r)},It=function(r){return"Pattern length exceeds max of ".concat(r,".")},At=function(r){return"Missing ".concat(r," property in key")},Et=function(r){return"Property 'weight' in key '".concat(r,"' must be a positive integer")},$e=Object.prototype.hasOwnProperty,bt=function(){function t(r){var e=this;k(this,t),this._keys=[],this._keyMap={};var n=0;r.forEach(function(i){var a=De(i);n+=a.weight,e._keys.push(a),e._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(function(i){i.weight/=n})}return I(t,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t}();function De(t){var r=null,e=null,n=null,i=1,a=null;if($(t)||w(t))n=t,r=Oe(t),e=fe(t);else{if(!$e.call(t,"name"))throw new Error(At("name"));var o=t.name;if(n=o,$e.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Et(o));r=Oe(o),e=fe(o),a=t.getFn}return{path:r,id:e,weight:i,src:n,getFn:a}}function Oe(t){return w(t)?t:t.split(".")}function fe(t){return w(t)?t.join("."):t}function Ct(t,r){var e=[],n=!1,i=function a(o,s,c){if(!!A(o))if(!s[c])e.push(o);else{var h=s[c],u=o[h];if(!A(u))return;if(c===s.length-1&&($(u)||Te(u)||St(u)))e.push(Mt(u));else if(w(u)){n=!0;for(var l=0,f=u.length;l<f;l+=1)a(u[l],s,c+1)}else s.length&&a(u,s,c+1)}};return i(t,$(r)?r.split("."):r,0),n?e:e[0]}var $t={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ot={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(r,e){return r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1}},wt={location:0,threshold:.6,distance:100},Rt={useExtendedSearch:!1,getFn:Ct,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},d=G(G(G(G({},Ot),$t),wt),Rt),Nt=/[^ ]+/g;function Tt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,e=new Map,n=Math.pow(10,r);return{get:function(a){var o=a.match(Nt).length;if(e.has(o))return e.get(o);var s=1/Math.pow(o,.5*t),c=parseFloat(Math.round(s*n)/n);return e.set(o,c),c},clear:function(){e.clear()}}}var me=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.getFn,n=e===void 0?d.getFn:e,i=r.fieldNormWeight,a=i===void 0?d.fieldNormWeight:i;k(this,t),this.norm=Tt(a,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}return I(t,[{key:"setSources",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=n,this._keysMap={},n.forEach(function(i,a){e._keysMap[i.id]=a})}},{key:"create",value:function(){var e=this;this.isCreated||!this.docs.length||(this.isCreated=!0,$(this.docs[0])?this.docs.forEach(function(n,i){e._addString(n,i)}):this.docs.forEach(function(n,i){e._addObject(n,i)}),this.norm.clear())}},{key:"add",value:function(e){var n=this.size();$(e)?this._addString(e,n):this._addObject(e,n)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var n=e,i=this.size();n<i;n+=1)this.records[n].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,n){return e[this._keysMap[n]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,n){if(!(!A(e)||se(e))){var i={v:e,i:n,n:this.norm.get(e)};this.records.push(i)}}},{key:"_addObject",value:function(e,n){var i=this,a={i:n,$:{}};this.keys.forEach(function(o,s){var c=o.getFn?o.getFn(e):i.getFn(e,o.path);if(!!A(c)){if(w(c))(function(){for(var u=[],l=[{nestedArrIndex:-1,value:c}];l.length;){var f=l.pop(),v=f.nestedArrIndex,g=f.value;if(!!A(g))if($(g)&&!se(g)){var p={v:g,i:v,n:i.norm.get(g)};u.push(p)}else w(g)&&g.forEach(function(m,y){l.push({nestedArrIndex:y,value:m})})}a.$[s]=u})();else if($(c)&&!se(c)){var h={v:c,n:i.norm.get(c)};a.$[s]=h}}}),this.records.push(a)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t}();function je(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.getFn,i=n===void 0?d.getFn:n,a=e.fieldNormWeight,o=a===void 0?d.fieldNormWeight:a,s=new me({getFn:i,fieldNormWeight:o});return s.setKeys(t.map(De)),s.setSources(r),s.create(),s}function Pt(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=r.getFn,n=e===void 0?d.getFn:e,i=r.fieldNormWeight,a=i===void 0?d.fieldNormWeight:i,o=t.keys,s=t.records,c=new me({getFn:n,fieldNormWeight:a});return c.setKeys(o),c.setIndexRecords(s),c}function q(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=r.errors,n=e===void 0?0:e,i=r.currentLocation,a=i===void 0?0:i,o=r.expectedLocation,s=o===void 0?0:o,c=r.distance,h=c===void 0?d.distance:c,u=r.ignoreLocation,l=u===void 0?d.ignoreLocation:u,f=n/t.length;if(l)return f;var v=Math.abs(s-a);return h?f+v/h:v?1:f}function Ft(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.minMatchCharLength,e=[],n=-1,i=-1,a=0,o=t.length;a<o;a+=1){var s=t[a];s&&n===-1?n=a:!s&&n!==-1&&(i=a-1,i-n+1>=r&&e.push([n,i]),n=-1)}return t[a-1]&&a-n>=r&&e.push([n,a-1]),e}var U=32;function Dt(t,r,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n.location,a=i===void 0?d.location:i,o=n.distance,s=o===void 0?d.distance:o,c=n.threshold,h=c===void 0?d.threshold:c,u=n.findAllMatches,l=u===void 0?d.findAllMatches:u,f=n.minMatchCharLength,v=f===void 0?d.minMatchCharLength:f,g=n.includeMatches,p=g===void 0?d.includeMatches:g,m=n.ignoreLocation,y=m===void 0?d.ignoreLocation:m;if(r.length>U)throw new Error(It(U));for(var M=r.length,L=t.length,_=Math.max(0,Math.min(a,L)),S=h,x=_,E=v>1||p,j=E?Array(L):[],b;(b=t.indexOf(r,x))>-1;){var Le=q(r,{currentLocation:b,expectedLocation:_,distance:s,ignoreLocation:y});if(S=Math.min(Le,S),x=b+M,E)for(var B=0;B<M;)j[b+B]=1,B+=1}x=-1;for(var z=[],Y=1,J=M+L,et=1<<M-1,W=0;W<M;W+=1){for(var Q=0,N=J;Q<N;){var tt=q(r,{errors:W,currentLocation:_+N,expectedLocation:_,distance:s,ignoreLocation:y});tt<=S?Q=N:J=N,N=Math.floor((J-Q)/2+Q)}J=N;var xe=Math.max(1,_-N+1),ie=l?L:Math.min(_+N,L)+M,V=Array(ie+2);V[ie+1]=(1<<W)-1;for(var C=ie;C>=xe;C-=1){var X=C-1,ke=e[t.charAt(X)];if(E&&(j[X]=+!!ke),V[C]=(V[C+1]<<1|1)&ke,W&&(V[C]|=(z[C+1]|z[C])<<1|1|z[C+1]),V[C]&et&&(Y=q(r,{errors:W,currentLocation:X,expectedLocation:_,distance:s,ignoreLocation:y}),Y<=S)){if(S=Y,x=X,x<=_)break;xe=Math.max(1,2*_-x)}}var rt=q(r,{errors:W+1,currentLocation:_,expectedLocation:_,distance:s,ignoreLocation:y});if(rt>S)break;z=V}var ae={isMatch:x>=0,score:Math.max(.001,Y)};if(E){var Ie=Ft(j,v);Ie.length?p&&(ae.indices=Ie):ae.isMatch=!1}return ae}function jt(t){for(var r={},e=0,n=t.length;e<n;e+=1){var i=t.charAt(e);r[i]=(r[i]||0)|1<<n-e-1}return r}var We=function(){function t(r){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.location,a=i===void 0?d.location:i,o=n.threshold,s=o===void 0?d.threshold:o,c=n.distance,h=c===void 0?d.distance:c,u=n.includeMatches,l=u===void 0?d.includeMatches:u,f=n.findAllMatches,v=f===void 0?d.findAllMatches:f,g=n.minMatchCharLength,p=g===void 0?d.minMatchCharLength:g,m=n.isCaseSensitive,y=m===void 0?d.isCaseSensitive:m,M=n.ignoreLocation,L=M===void 0?d.ignoreLocation:M;if(k(this,t),this.options={location:a,threshold:s,distance:h,includeMatches:l,findAllMatches:v,minMatchCharLength:p,isCaseSensitive:y,ignoreLocation:L},this.pattern=y?r:r.toLowerCase(),this.chunks=[],!!this.pattern.length){var _=function(B,z){e.chunks.push({pattern:B,alphabet:jt(B),startIndex:z})},S=this.pattern.length;if(S>U){for(var x=0,E=S%U,j=S-E;x<j;)_(this.pattern.substr(x,U),x),x+=U;if(E){var b=S-U;_(this.pattern.substr(b),b)}}else _(this.pattern,0)}}return I(t,[{key:"searchIn",value:function(e){var n=this.options,i=n.isCaseSensitive,a=n.includeMatches;if(i||(e=e.toLowerCase()),this.pattern===e){var o={isMatch:!0,score:0};return a&&(o.indices=[[0,e.length-1]]),o}var s=this.options,c=s.location,h=s.distance,u=s.threshold,l=s.findAllMatches,f=s.minMatchCharLength,v=s.ignoreLocation,g=[],p=0,m=!1;this.chunks.forEach(function(M){var L=M.pattern,_=M.alphabet,S=M.startIndex,x=Dt(e,L,_,{location:c+S,distance:h,threshold:u,findAllMatches:l,minMatchCharLength:f,includeMatches:a,ignoreLocation:v}),E=x.isMatch,j=x.score,b=x.indices;E&&(m=!0),p+=j,E&&b&&(g=[].concat(K(g),K(b)))});var y={isMatch:m,score:m?p/this.chunks.length:1};return m&&a&&(y.indices=g),y}}]),t}(),F=function(){function t(r){k(this,t),this.pattern=r}return I(t,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return we(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return we(e,this.singleRegex)}}]),t}();function we(t,r){var e=t.match(r);return e?e[1]:null}var Wt=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){var a=i===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),e}(F),Ut=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){var a=i.indexOf(this.pattern),o=a===-1;return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),e}(F),Kt=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){var a=i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),e}(F),Bt=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){var a=!i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),e}(F),zt=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){var a=i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),e}(F),Vt=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){var a=!i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),e}(F),Ue=function(t){T(e,t);var r=P(e);function e(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.location,s=o===void 0?d.location:o,c=a.threshold,h=c===void 0?d.threshold:c,u=a.distance,l=u===void 0?d.distance:u,f=a.includeMatches,v=f===void 0?d.includeMatches:f,g=a.findAllMatches,p=g===void 0?d.findAllMatches:g,m=a.minMatchCharLength,y=m===void 0?d.minMatchCharLength:m,M=a.isCaseSensitive,L=M===void 0?d.isCaseSensitive:M,_=a.ignoreLocation,S=_===void 0?d.ignoreLocation:_;return k(this,e),i=r.call(this,n),i._bitapSearch=new We(n,{location:s,threshold:h,distance:l,includeMatches:v,findAllMatches:p,minMatchCharLength:y,isCaseSensitive:L,ignoreLocation:S}),i}return I(e,[{key:"search",value:function(i){return this._bitapSearch.searchIn(i)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),e}(F),Ke=function(t){T(e,t);var r=P(e);function e(n){return k(this,e),r.call(this,n)}return I(e,[{key:"search",value:function(i){for(var a=0,o,s=[],c=this.pattern.length;(o=i.indexOf(this.pattern,a))>-1;)a=o+c,s.push([o,a-1]);var h=!!s.length;return{isMatch:h,score:h?0:1,indices:s}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),e}(F),le=[Wt,Ke,Kt,Bt,Vt,zt,Ut,Ue],Re=le.length,Gt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ht="|";function Yt(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.split(Ht).map(function(e){for(var n=e.trim().split(Gt).filter(function(g){return g&&!!g.trim()}),i=[],a=0,o=n.length;a<o;a+=1){for(var s=n[a],c=!1,h=-1;!c&&++h<Re;){var u=le[h],l=u.isMultiMatch(s);l&&(i.push(new u(l,r)),c=!0)}if(!c)for(h=-1;++h<Re;){var f=le[h],v=f.isSingleMatch(s);if(v){i.push(new f(v,r));break}}}return i})}var Jt=new Set([Ue.type,Ke.type]),Qt=function(){function t(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.isCaseSensitive,i=n===void 0?d.isCaseSensitive:n,a=e.includeMatches,o=a===void 0?d.includeMatches:a,s=e.minMatchCharLength,c=s===void 0?d.minMatchCharLength:s,h=e.ignoreLocation,u=h===void 0?d.ignoreLocation:h,l=e.findAllMatches,f=l===void 0?d.findAllMatches:l,v=e.location,g=v===void 0?d.location:v,p=e.threshold,m=p===void 0?d.threshold:p,y=e.distance,M=y===void 0?d.distance:y;k(this,t),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:c,findAllMatches:f,ignoreLocation:u,location:g,threshold:m,distance:M},this.pattern=i?r:r.toLowerCase(),this.query=Yt(this.pattern,this.options)}return I(t,[{key:"searchIn",value:function(e){var n=this.query;if(!n)return{isMatch:!1,score:1};var i=this.options,a=i.includeMatches,o=i.isCaseSensitive;e=o?e:e.toLowerCase();for(var s=0,c=[],h=0,u=0,l=n.length;u<l;u+=1){var f=n[u];c.length=0,s=0;for(var v=0,g=f.length;v<g;v+=1){var p=f[v],m=p.search(e),y=m.isMatch,M=m.indices,L=m.score;if(y){if(s+=1,h+=L,a){var _=p.constructor.type;Jt.has(_)?c=[].concat(K(c),K(M)):c.push(M)}}else{h=0,s=0,c.length=0;break}}if(s){var S={isMatch:!0,score:h/s};return a&&(S.indices=c),S}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,n){return n.useExtendedSearch}}]),t}(),te=[];function Xt(){te.push.apply(te,arguments)}function de(t,r){for(var e=0,n=te.length;e<n;e+=1){var i=te[e];if(i.condition(t,r))return new i(t,r)}return new We(t,r)}var re={AND:"$and",OR:"$or"},ge={PATH:"$path",PATTERN:"$val"},ve=function(r){return!!(r[re.AND]||r[re.OR])},Zt=function(r){return!!r[ge.PATH]},qt=function(r){return!w(r)&&Pe(r)&&!ve(r)},Ne=function(r){return ce({},re.AND,Object.keys(r).map(function(e){return ce({},e,r[e])}))};function Be(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.auto,i=n===void 0?!0:n,a=function o(s){var c=Object.keys(s),h=Zt(s);if(!h&&c.length>1&&!ve(s))return o(Ne(s));if(qt(s)){var u=h?s[ge.PATH]:c[0],l=h?s[ge.PATTERN]:s[u];if(!$(l))throw new Error(kt(u));var f={keyId:fe(u),pattern:l};return i&&(f.searcher=de(l,r)),f}var v={children:[],operator:c[0]};return c.forEach(function(g){var p=s[g];w(p)&&p.forEach(function(m){v.children.push(o(m))})}),v};return ve(t)||(t=Ne(t)),a(t)}function er(t,r){var e=r.ignoreFieldNorm,n=e===void 0?d.ignoreFieldNorm:e;t.forEach(function(i){var a=1;i.matches.forEach(function(o){var s=o.key,c=o.norm,h=o.score,u=s?s.weight:null;a*=Math.pow(h===0&&u?Number.EPSILON:h,(u||1)*(n?1:c))}),i.score=a})}function tr(t,r){var e=t.matches;r.matches=[],A(e)&&e.forEach(function(n){if(!(!A(n.indices)||!n.indices.length)){var i=n.indices,a=n.value,o={indices:i,value:a};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),r.matches.push(o)}})}function rr(t,r){r.score=t.score}function nr(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.includeMatches,i=n===void 0?d.includeMatches:n,a=e.includeScore,o=a===void 0?d.includeScore:a,s=[];return i&&s.push(tr),o&&s.push(rr),t.map(function(c){var h=c.idx,u={item:r[h],refIndex:h};return s.length&&s.forEach(function(l){l(c,u)}),u})}var H=function(){function t(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;k(this,t),this.options=G(G({},d),e),this.options.useExtendedSearch,this._keyStore=new bt(this.options.keys),this.setCollection(r,n)}return I(t,[{key:"setCollection",value:function(e,n){if(this._docs=e,n&&!(n instanceof me))throw new Error(xt);this._myIndex=n||je(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){!A(e)||(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},n=[],i=0,a=this._docs.length;i<a;i+=1){var o=this._docs[i];e(o,i)&&(this.removeAt(i),i-=1,a-=1,n.push(o))}return n}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.limit,a=i===void 0?-1:i,o=this.options,s=o.includeMatches,c=o.includeScore,h=o.shouldSort,u=o.sortFn,l=o.ignoreFieldNorm,f=$(e)?$(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return er(f,{ignoreFieldNorm:l}),h&&f.sort(u),Te(a)&&a>-1&&(f=f.slice(0,a)),nr(f,this._docs,{includeMatches:s,includeScore:c})}},{key:"_searchStringList",value:function(e){var n=de(e,this.options),i=this._myIndex.records,a=[];return i.forEach(function(o){var s=o.v,c=o.i,h=o.n;if(!!A(s)){var u=n.searchIn(s),l=u.isMatch,f=u.score,v=u.indices;l&&a.push({item:s,idx:c,matches:[{score:f,value:s,norm:h,indices:v}]})}}),a}},{key:"_searchLogical",value:function(e){var n=this,i=Be(e,this.options),a=function h(u,l,f){if(!u.children){var v=u.keyId,g=u.searcher,p=n._findMatches({key:n._keyStore.get(v),value:n._myIndex.getValueForItemAtKeyId(l,v),searcher:g});return p&&p.length?[{idx:f,item:l,matches:p}]:[]}for(var m=[],y=0,M=u.children.length;y<M;y+=1){var L=u.children[y],_=h(L,l,f);if(_.length)m.push.apply(m,K(_));else if(u.operator===re.AND)return[]}return m},o=this._myIndex.records,s={},c=[];return o.forEach(function(h){var u=h.$,l=h.i;if(A(u)){var f=a(i,u,l);f.length&&(s[l]||(s[l]={idx:l,item:u,matches:[]},c.push(s[l])),f.forEach(function(v){var g,p=v.matches;(g=s[l].matches).push.apply(g,K(p))}))}}),c}},{key:"_searchObjectList",value:function(e){var n=this,i=de(e,this.options),a=this._myIndex,o=a.keys,s=a.records,c=[];return s.forEach(function(h){var u=h.$,l=h.i;if(!!A(u)){var f=[];o.forEach(function(v,g){f.push.apply(f,K(n._findMatches({key:v,value:u[g],searcher:i})))}),f.length&&c.push({idx:l,item:u,matches:f})}}),c}},{key:"_findMatches",value:function(e){var n=e.key,i=e.value,a=e.searcher;if(!A(i))return[];var o=[];if(w(i))i.forEach(function(v){var g=v.v,p=v.i,m=v.n;if(!!A(g)){var y=a.searchIn(g),M=y.isMatch,L=y.score,_=y.indices;M&&o.push({score:L,key:n,value:g,idx:p,norm:m,indices:_})}});else{var s=i.v,c=i.n,h=a.searchIn(s),u=h.isMatch,l=h.score,f=h.indices;u&&o.push({score:l,key:n,value:s,norm:c,indices:f})}return o}}]),t}();H.version="6.6.2";H.createIndex=je;H.parseIndex=Pt;H.config=d;H.parseQuery=Be;Xt(Qt);var ir=H;ze.exports=ir});var hr={};ut(hr,{default:()=>qe});module.exports=ht(hr);var O=require("@raycast/api"),ne=require("react");var Je=Ee(Ve());var Ge=require("@raycast/api"),He=(0,Ge.getPreferenceValues)();var ar=100,Ye=1e3,pe=Number(He.searchResultLimitStr)||ar,ye=pe&&pe<=Ye?pe:Ye;var Qe=require("@raycast/api"),Xe=Ee(require("fs")),_e=JSON.parse(Xe.default.readFileSync(`${Qe.environment.assetsPath}/dataset.json`,"utf-8")),sr=new Je.default(_e.characters,{keys:["name","aliases"],useExtendedSearch:!0});function Me(t){let r={blocks:_e.blocks,characters:[]};if(!t)r.characters=_e.characters.slice(0,ye);else{let e=t?.trim().split(" ").map(i=>`'${i}`).join(" ")||"",n=sr.search(e,{limit:ye});r.characters=n.map(i=>i.item)}return r}var Se=require("@raycast/api"),R=require("react"),or=(t,r)=>{let[e,n]=(0,R.useState)(r),[i,a]=(0,R.useState)(!1);(0,R.useEffect)(()=>{let s=!1;return(async()=>{let c=await Se.LocalStorage.getItem(t);typeof c=="string"?s||(n(JSON.parse(c)),a(!0)):s||a(!0)})(),()=>{s=!0}},[]);let o=(0,R.useCallback)(s=>{n(c=>{let h=typeof s=="function"?s(c):s;return Se.LocalStorage.setItem(t,JSON.stringify(h)),h})},[]);return[e,o,i]};function Ze(t){let{key:r,comparator:e,limit:n=10}=t,[i,a,o]=or(r,[]),s=(0,R.useCallback)(h=>{a(u=>u.find(f=>typeof e=="function"?e(f,h):f[e]===h[e])?u:[h,...u].slice(0,n))},[e,n]),c=(0,R.useCallback)(()=>{a([])},[e,n]);return{recentlyUsedItems:i,addToRecentlyUsedItems:s,areRecentlyUsedItemsLoaded:o,clearRecentlyUsedItems:c}}var D=require("react/jsx-runtime");function cr(t,r,e){let n=t.blocks.map(i=>({sectionTitle:i.blockName,items:t.characters.filter(a=>i.startCode<=a.code&&i.endCode>=a.code)}));return r.length&&n.unshift({sectionTitle:"Recently Used",items:e?r:r.filter(i=>t.characters.find(a=>a.code===i.code))}),n}function ur(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function qe(){let[t,r]=(0,ne.useState)(Me()),e=(0,ne.useRef)("");function n(c){e.current=c,r(Me(c))}let{recentlyUsedItems:i,addToRecentlyUsedItems:a,areRecentlyUsedItemsLoaded:o}=Ze({key:"recently-used",comparator:"code"}),s=o?cr(t,i,!e.current):[];return(0,D.jsx)(O.List,{isLoading:!a||!s.length,onSearchTextChange:n,children:s.map(c=>(0,D.jsx)(O.List.Section,{title:c.sectionTitle,children:c.items.map(h=>{let u=[];return h.aliases?.length&&u.push({icon:"\u2328\uFE0F",text:`${h.aliases.join(", ")}`}),(0,D.jsx)(O.List.Item,{title:h.value,subtitle:ur(h.name),accessories:u,actions:(0,D.jsx)(O.ActionPanel,{children:(0,D.jsxs)(O.ActionPanel.Section,{children:[(0,D.jsx)(O.Action.Paste,{title:"Paste Character in Active App",content:h.value,onPaste:()=>a(h)}),(0,D.jsx)(O.Action.CopyToClipboard,{title:"Copy Character to Clipboard",content:h.value,onCopy:()=>a(h)})]})})},h.name)})},c.sectionTitle))})}0&&(module.exports={});
