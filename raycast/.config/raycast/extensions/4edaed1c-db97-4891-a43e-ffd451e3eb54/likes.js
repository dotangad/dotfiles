"use strict";var Ac=Object.create;var pn=Object.defineProperty;var kc=Object.getOwnPropertyDescriptor;var Ic=Object.getOwnPropertyNames;var Oc=Object.getPrototypeOf,xc=Object.prototype.hasOwnProperty;var dr=(t,r)=>()=>(t&&(r=t(t=0)),r);var I=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),la=(t,r)=>{for(var o in r)pn(t,o,{get:r[o],enumerable:!0})},ca=(t,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Ic(r))!xc.call(t,s)&&s!==o&&pn(t,s,{get:()=>r[s],enumerable:!(i=kc(r,s))||i.enumerable});return t};var Oe=(t,r,o)=>(o=t!=null?Ac(Oc(t)):{},ca(r||!t||!t.__esModule?pn(o,"default",{value:t,enumerable:!0}):o,t)),Bc=t=>ca(pn({},"__esModule",{value:!0}),t);var ha=I((bn,da)=>{(function(t,r){typeof bn=="object"&&typeof da<"u"?r(bn):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(bn,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let c=o,h=Promise,m=Promise.prototype.then,d=Promise.resolve.bind(h),_=Promise.reject.bind(h);function R(e){return new h(e)}function y(e){return d(e)}function g(e){return _(e)}function S(e,n,a){return m.call(e,n,a)}function E(e,n,a){S(S(e,n,a),void 0,c)}function T(e,n){E(e,n)}function w(e,n){E(e,void 0,n)}function x(e,n,a){return S(e,n,a)}function M(e){S(e,void 0,c)}let P=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let n=y(void 0);return a=>S(n,a)})();function q(e,n,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,a)}function A(e,n,a){try{return y(q(e,n,a))}catch(l){return g(l)}}let V=16384;class Z{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let a=this._back,l=a;a._elements.length===V-1&&(l={_elements:[],_next:void 0}),a._elements.push(n),l!==a&&(this._back=l,a._next=l),++this._size}shift(){let n=this._front,a=n,l=this._cursor,f=l+1,p=n._elements,b=p[l];return f===V&&(a=n._next,f=0),--this._size,this._cursor=f,n!==a&&(this._front=a),p[l]=void 0,b}forEach(n){let a=this._cursor,l=this._front,f=l._elements;for(;(a!==f.length||l._next!==void 0)&&!(a===f.length&&(l=l._next,f=l._elements,a=0,f.length===0));)n(f[a]),++a}peek(){let n=this._front,a=this._cursor;return n._elements[a]}}function Y(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Qt(e):n._state==="closed"?Dr(e):ye(e,n._storedError)}function at(e,n){let a=e._ownerReadableStream;return Te(a,n)}function ne(e){e._ownerReadableStream._state==="readable"?Le(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):qr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function We(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Qt(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a})}function ye(e,n){Qt(e),Le(e,n)}function Dr(e){Qt(e),Wr(e)}function Le(e,n){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function qr(e,n){ye(e,n)}function Wr(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let Et=r("[[AbortSteps]]"),Ct=r("[[ErrorSteps]]"),Pe=r("[[CancelSteps]]"),st=r("[[PullSteps]]"),ut=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Fe=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Vn(e){return typeof e=="object"||typeof e=="function"}function H(e,n){if(e!==void 0&&!Vn(e))throw new TypeError(`${n} is not an object.`)}function U(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function oe(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ie(e,n){if(!oe(e))throw new TypeError(`${n} is not an object.`)}function te(e,n,a){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function $e(e,n,a){if(e===void 0)throw new TypeError(`${n} is required in '${a}'.`)}function ae(e){return Number(e)}function Q(e){return e===0?0:e}function Ae(e){return Q(Fe(e))}function de(e,n){let l=Number.MAX_SAFE_INTEGER,f=Number(e);if(f=Q(f),!ut(f))throw new TypeError(`${n} is not a finite number`);if(f=Ae(f),f<0||f>l)throw new TypeError(`${n} is outside the accepted range of ${0} to ${l}, inclusive`);return!ut(f)||f===0?0:f}function lt(e,n){if(!et(e))throw new TypeError(`${n} is not a ReadableStream.`)}function ge(e){return new Xt(e)}function Qe(e,n){e._reader._readRequests.push(n)}function ct(e,n,a){let f=e._reader._readRequests.shift();a?f._closeSteps():f._chunkSteps(n)}function ke(e){return e._reader._readRequests.length}function Kt(e){let n=e._reader;return!(n===void 0||!Ke(n))}class Xt{constructor(n){if(te(n,1,"ReadableStreamDefaultReader"),lt(n,"First parameter"),tt(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Y(this,n),this._readRequests=new Z}get closed(){return Ke(this)?this._closedPromise:g(Lr("closed"))}cancel(n=void 0){return Ke(this)?this._ownerReadableStream===void 0?g(We("cancel")):at(this,n):g(Lr("cancel"))}read(){if(!Ke(this))return g(Lr("read"));if(this._ownerReadableStream===void 0)return g(We("read from"));let n,a,l=R((p,b)=>{n=p,a=b});return Zt(this,{_chunkSteps:p=>n({value:p,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:p=>a(p)}),l}releaseLock(){if(!Ke(this))throw Lr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ne(this)}}}Object.defineProperties(Xt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Xt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ke(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Xt}function Zt(e,n){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?n._closeSteps():a._state==="errored"?n._errorSteps(a._storedError):a._readableStreamController[st](n)}function Lr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let ii=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ai{constructor(n,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=a}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?x(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let a=()=>this._returnSteps(n);return this._ongoingPromise?x(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return g(We("iterate"));let a,l,f=R((b,v)=>{a=b,l=v});return Zt(n,{_chunkSteps:b=>{this._ongoingPromise=void 0,P(()=>a({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(n),a({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(n),l(b)}}),f}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return g(We("finish iterating"));if(!this._preventCancel){let l=at(a,n);return ne(a),x(l,()=>({value:n,done:!0}))}return ne(a),y({value:n,done:!0})}}let si={next(){return ui(this)?this._asyncIteratorImpl.next():g(li("next"))},return(e){return ui(this)?this._asyncIteratorImpl.return(e):g(li("return"))}};ii!==void 0&&Object.setPrototypeOf(si,ii);function ll(e,n){let a=ge(e),l=new ai(a,n),f=Object.create(si);return f._asyncIteratorImpl=l,f}function ui(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ai}catch{return!1}}function li(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let ci=Number.isNaN||function(e){return e!==e};function Jt(e){return e.slice()}function fi(e,n,a,l,f){new Uint8Array(e).set(new Uint8Array(a,l,f),n)}function Ah(e){return e}function Fr(e){return!1}function di(e,n,a){if(e.slice)return e.slice(n,a);let l=a-n,f=new ArrayBuffer(l);return fi(f,0,e,n,l),f}function cl(e){return!(typeof e!="number"||ci(e)||e<0)}function hi(e){let n=di(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Yn(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function Qn(e,n,a){if(!cl(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:a}),e._queueTotalSize+=a}function fl(e){return e._queue.peek().value}function Xe(e){e._queue=new Z,e._queueTotalSize=0}class er{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Kn(this))throw eo("view");return this._view}respond(n){if(!Kn(this))throw eo("respond");if(te(n,1,"respond"),n=de(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Fr(this._view.buffer),Nr(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!Kn(this))throw eo("respondWithNewView");if(te(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Fr(n.buffer),jr(this._associatedReadableByteStreamController,n)}}Object.defineProperties(er.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(er.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Pt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ft(this))throw rr("byobRequest");return Jn(this)}get desiredSize(){if(!ft(this))throw rr("desiredSize");return wi(this)}close(){if(!ft(this))throw rr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);tr(this)}enqueue(n){if(!ft(this))throw rr("enqueue");if(te(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);Ur(this,n)}error(n=void 0){if(!ft(this))throw rr("error");ve(this,n)}[Pe](n){mi(this),Xe(this);let a=this._cancelAlgorithm(n);return Mr(this),a}[st](n){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let f=this._queue.shift();this._queueTotalSize-=f.byteLength,gi(this);let p=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);n._chunkSteps(p);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let f;try{f=new ArrayBuffer(l)}catch(b){n._errorSteps(b);return}let p={buffer:f,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}Qe(a,n),dt(this)}}Object.defineProperties(Pt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ft(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Pt}function Kn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof er}function dt(e){if(!pl(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,dt(e))},l=>{ve(e,l)})}function mi(e){Zn(e),e._pendingPullIntos=new Z}function Xn(e,n){let a=!1;e._state==="closed"&&(a=!0);let l=pi(n);n.readerType==="default"?ct(e,l,a):gl(e,l,a)}function pi(e){let n=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/a)}function $r(e,n,a,l){e._queue.push({buffer:n,byteOffset:a,byteLength:l}),e._queueTotalSize+=l}function bi(e,n){let a=n.elementSize,l=n.bytesFilled-n.bytesFilled%a,f=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+f,b=p-p%a,v=f,k=!1;b>l&&(v=b-n.bytesFilled,k=!0);let B=e._queue;for(;v>0;){let W=B.peek(),L=Math.min(v,W.byteLength),G=n.byteOffset+n.bytesFilled;fi(n.buffer,G,W.buffer,W.byteOffset,L),W.byteLength===L?B.shift():(W.byteOffset+=L,W.byteLength-=L),e._queueTotalSize-=L,yi(e,L,n),v-=L}return k}function yi(e,n,a){a.bytesFilled+=n}function gi(e){e._queueTotalSize===0&&e._closeRequested?(Mr(e),cr(e._controlledReadableByteStream)):dt(e)}function Zn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Si(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();bi(e,n)&&(zr(e),Xn(e._controlledReadableByteStream,n))}}function dl(e,n,a){let l=e._controlledReadableByteStream,f=1;n.constructor!==DataView&&(f=n.constructor.BYTES_PER_ELEMENT);let p=n.constructor,b=n.buffer,v={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:f,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),Ti(l,a);return}if(l._state==="closed"){let k=new p(v.buffer,v.byteOffset,0);a._closeSteps(k);return}if(e._queueTotalSize>0){if(bi(e,v)){let k=pi(v);gi(e),a._chunkSteps(k);return}if(e._closeRequested){let k=new TypeError("Insufficient bytes to fill elements in the given buffer");ve(e,k),a._errorSteps(k);return}}e._pendingPullIntos.push(v),Ti(l,a),dt(e)}function hl(e,n){let a=e._controlledReadableByteStream;if(to(a))for(;Ei(a)>0;){let l=zr(e);Xn(a,l)}}function ml(e,n,a){if(yi(e,n,a),a.bytesFilled<a.elementSize)return;zr(e);let l=a.bytesFilled%a.elementSize;if(l>0){let f=a.byteOffset+a.bytesFilled,p=di(a.buffer,f-l,f);$r(e,p,0,p.byteLength)}a.bytesFilled-=l,Xn(e._controlledReadableByteStream,a),Si(e)}function _i(e,n){let a=e._pendingPullIntos.peek();Zn(e),e._controlledReadableByteStream._state==="closed"?hl(e):ml(e,n,a),dt(e)}function zr(e){return e._pendingPullIntos.shift()}function pl(e){let n=e._controlledReadableByteStream;return n._state!=="readable"||e._closeRequested||!e._started?!1:!!(Kt(n)&&ke(n)>0||to(n)&&Ei(n)>0||wi(e)>0)}function Mr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function tr(e){let n=e._controlledReadableByteStream;if(!(e._closeRequested||n._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ve(e,l),l}Mr(e),cr(n)}}function Ur(e,n){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let l=n.buffer,f=n.byteOffset,p=n.byteLength,b=l;if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();Fr(v.buffer),v.buffer=v.buffer}if(Zn(e),Kt(a))if(ke(a)===0)$r(e,b,f,p);else{e._pendingPullIntos.length>0&&zr(e);let v=new Uint8Array(b,f,p);ct(a,v,!1)}else to(a)?($r(e,b,f,p),Si(e)):$r(e,b,f,p);dt(e)}function ve(e,n){let a=e._controlledReadableByteStream;a._state==="readable"&&(mi(e),Xe(e),Mr(e),Qi(a,n))}function Jn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),l=Object.create(er.prototype);yl(l,e,a),e._byobRequest=l}return e._byobRequest}function wi(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Nr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,_i(e,n)}function jr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let f=n.byteLength;a.buffer=n.buffer,_i(e,f)}function Ri(e,n,a,l,f,p,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,Xe(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,n._autoAllocateChunkSize=b,n._pendingPullIntos=new Z,e._readableStreamController=n;let v=a();E(y(v),()=>{n._started=!0,dt(n)},k=>{ve(n,k)})}function bl(e,n,a){let l=Object.create(Pt.prototype),f=()=>{},p=()=>y(void 0),b=()=>y(void 0);n.start!==void 0&&(f=()=>n.start(l)),n.pull!==void 0&&(p=()=>n.pull(l)),n.cancel!==void 0&&(b=k=>n.cancel(k));let v=n.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ri(e,l,f,p,b,a,v)}function yl(e,n,a){e._associatedReadableByteStreamController=n,e._view=a}function eo(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function rr(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function vi(e){return new nr(e)}function Ti(e,n){e._reader._readIntoRequests.push(n)}function gl(e,n,a){let f=e._reader._readIntoRequests.shift();a?f._closeSteps(n):f._chunkSteps(n)}function Ei(e){return e._reader._readIntoRequests.length}function to(e){let n=e._reader;return!(n===void 0||!ht(n))}class nr{constructor(n){if(te(n,1,"ReadableStreamBYOBReader"),lt(n,"First parameter"),tt(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ft(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Y(this,n),this._readIntoRequests=new Z}get closed(){return ht(this)?this._closedPromise:g(Hr("closed"))}cancel(n=void 0){return ht(this)?this._ownerReadableStream===void 0?g(We("cancel")):at(this,n):g(Hr("cancel"))}read(n){if(!ht(this))return g(Hr("read"));if(!ArrayBuffer.isView(n))return g(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Fr(n.buffer),this._ownerReadableStream===void 0)return g(We("read from"));let a,l,f=R((b,v)=>{a=b,l=v});return Ci(this,n,{_chunkSteps:b=>a({value:b,done:!1}),_closeSteps:b=>a({value:b,done:!0}),_errorSteps:b=>l(b)}),f}releaseLock(){if(!ht(this))throw Hr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ne(this)}}}Object.defineProperties(nr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(nr.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ht(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof nr}function Ci(e,n,a){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?a._errorSteps(l._storedError):dl(l._readableStreamController,n,a)}function Hr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function or(e,n){let{highWaterMark:a}=e;if(a===void 0)return n;if(ci(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Gr(e){let{size:n}=e;return n||(()=>1)}function Vr(e,n){H(e,n);let a=e?.highWaterMark,l=e?.size;return{highWaterMark:a===void 0?void 0:ae(a),size:l===void 0?void 0:Sl(l,`${n} has member 'size' that`)}}function Sl(e,n){return U(e,n),a=>ae(e(a))}function _l(e,n){H(e,n);let a=e?.abort,l=e?.close,f=e?.start,p=e?.type,b=e?.write;return{abort:a===void 0?void 0:wl(a,e,`${n} has member 'abort' that`),close:l===void 0?void 0:Rl(l,e,`${n} has member 'close' that`),start:f===void 0?void 0:vl(f,e,`${n} has member 'start' that`),write:b===void 0?void 0:Tl(b,e,`${n} has member 'write' that`),type:p}}function wl(e,n,a){return U(e,a),l=>A(e,n,[l])}function Rl(e,n,a){return U(e,a),()=>A(e,n,[])}function vl(e,n,a){return U(e,a),l=>q(e,n,[l])}function Tl(e,n,a){return U(e,a),(l,f)=>A(e,n,[l,f])}function Pi(e,n){if(!At(e))throw new TypeError(`${n} is not a WritableStream.`)}function El(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Cl=typeof AbortController=="function";function Pl(){if(Cl)return new AbortController}class ir{constructor(n={},a={}){n===void 0?n=null:ie(n,"First parameter");let l=Vr(a,"Second parameter"),f=_l(n,"First parameter");if(ki(this),f.type!==void 0)throw new RangeError("Invalid type is specified");let b=Gr(l),v=or(l,1);Ml(this,f,v,b)}get locked(){if(!At(this))throw Zr("locked");return kt(this)}abort(n=void 0){return At(this)?kt(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Yr(this,n):g(Zr("abort"))}close(){return At(this)?kt(this)?g(new TypeError("Cannot close a stream that already has a writer")):Ie(this)?g(new TypeError("Cannot close an already-closing stream")):Ii(this):g(Zr("close"))}getWriter(){if(!At(this))throw Zr("getWriter");return Ai(this)}}Object.defineProperties(ir.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ir.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Ai(e){return new ar(e)}function Al(e,n,a,l,f=1,p=()=>1){let b=Object.create(ir.prototype);ki(b);let v=Object.create(It.prototype);return Wi(b,v,e,n,a,l,f,p),b}function ki(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Z,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function At(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof ir}function kt(e){return e._writer!==void 0}function Yr(e,n){var a;if(e._state==="closed"||e._state==="errored")return y(void 0);e._writableStreamController._abortReason=n,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let l=e._state;if(l==="closed"||l==="errored")return y(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let f=!1;l==="erroring"&&(f=!0,n=void 0);let p=R((b,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:v,_reason:n,_wasAlreadyErroring:f}});return e._pendingAbortRequest._promise=p,f||no(e,n),p}function Ii(e){let n=e._state;if(n==="closed"||n==="errored")return g(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let a=R((f,p)=>{let b={_resolve:f,_reject:p};e._closeRequest=b}),l=e._writer;return l!==void 0&&e._backpressure&&n==="writable"&&ho(l),Ul(e._writableStreamController),a}function kl(e){return R((a,l)=>{let f={_resolve:a,_reject:l};e._writeRequests.push(f)})}function ro(e,n){if(e._state==="writable"){no(e,n);return}oo(e)}function no(e,n){let a=e._writableStreamController;e._state="erroring",e._storedError=n;let l=e._writer;l!==void 0&&xi(l,n),!Dl(e)&&a._started&&oo(e)}function oo(e){e._state="errored",e._writableStreamController[Ct]();let n=e._storedError;if(e._writeRequests.forEach(f=>{f._reject(n)}),e._writeRequests=new Z,e._pendingAbortRequest===void 0){Qr(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),Qr(e);return}let l=e._writableStreamController[Et](a._reason);E(l,()=>{a._resolve(),Qr(e)},f=>{a._reject(f),Qr(e)})}function Il(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Ol(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,ro(e,n)}function xl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&zi(a)}function Bl(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),ro(e,n)}function Ie(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Dl(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function ql(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Wl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Qr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&co(n,e._storedError)}function io(e,n){let a=e._writer;a!==void 0&&n!==e._backpressure&&(n?Ql(a):ho(a)),e._backpressure=n}class ar{constructor(n){if(te(n,1,"WritableStreamDefaultWriter"),Pi(n,"First parameter"),kt(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let a=n._state;if(a==="writable")!Ie(n)&&n._backpressure?en(this):Mi(this),Jr(this);else if(a==="erroring")fo(this,n._storedError),Jr(this);else if(a==="closed")Mi(this),Vl(this);else{let l=n._storedError;fo(this,l),$i(this,l)}}get closed(){return mt(this)?this._closedPromise:g(pt("closed"))}get desiredSize(){if(!mt(this))throw pt("desiredSize");if(this._ownerWritableStream===void 0)throw sr("desiredSize");return zl(this)}get ready(){return mt(this)?this._readyPromise:g(pt("ready"))}abort(n=void 0){return mt(this)?this._ownerWritableStream===void 0?g(sr("abort")):Ll(this,n):g(pt("abort"))}close(){if(!mt(this))return g(pt("close"));let n=this._ownerWritableStream;return n===void 0?g(sr("close")):Ie(n)?g(new TypeError("Cannot close an already-closing stream")):Oi(this)}releaseLock(){if(!mt(this))throw pt("releaseLock");this._ownerWritableStream!==void 0&&Bi(this)}write(n=void 0){return mt(this)?this._ownerWritableStream===void 0?g(sr("write to")):Di(this,n):g(pt("write"))}}Object.defineProperties(ar.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ar.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function mt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof ar}function Ll(e,n){let a=e._ownerWritableStream;return Yr(a,n)}function Oi(e){let n=e._ownerWritableStream;return Ii(n)}function Fl(e){let n=e._ownerWritableStream,a=n._state;return Ie(n)||a==="closed"?y(void 0):a==="errored"?g(n._storedError):Oi(e)}function $l(e,n){e._closedPromiseState==="pending"?co(e,n):Yl(e,n)}function xi(e,n){e._readyPromiseState==="pending"?Ui(e,n):Kl(e,n)}function zl(e){let n=e._ownerWritableStream,a=n._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:Li(n._writableStreamController)}function Bi(e){let n=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");xi(e,a),$l(e,a),n._writer=void 0,e._ownerWritableStream=void 0}function Di(e,n){let a=e._ownerWritableStream,l=a._writableStreamController,f=Nl(l,n);if(a!==e._ownerWritableStream)return g(sr("write to"));let p=a._state;if(p==="errored")return g(a._storedError);if(Ie(a)||p==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return g(a._storedError);let b=kl(a);return jl(l,n,f),b}let qi={};class It{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ao(this))throw lo("abortReason");return this._abortReason}get signal(){if(!ao(this))throw lo("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!ao(this))throw lo("error");this._controlledWritableStream._state==="writable"&&Fi(this,n)}[Et](n){let a=this._abortAlgorithm(n);return Kr(this),a}[Ct](){Xe(this)}}Object.defineProperties(It.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(It.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ao(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof It}function Wi(e,n,a,l,f,p,b,v){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,Xe(n),n._abortReason=void 0,n._abortController=Pl(),n._started=!1,n._strategySizeAlgorithm=v,n._strategyHWM=b,n._writeAlgorithm=l,n._closeAlgorithm=f,n._abortAlgorithm=p;let k=uo(n);io(e,k);let B=a(),W=y(B);E(W,()=>{n._started=!0,Xr(n)},L=>{n._started=!0,ro(e,L)})}function Ml(e,n,a,l){let f=Object.create(It.prototype),p=()=>{},b=()=>y(void 0),v=()=>y(void 0),k=()=>y(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.write!==void 0&&(b=B=>n.write(B,f)),n.close!==void 0&&(v=()=>n.close()),n.abort!==void 0&&(k=B=>n.abort(B)),Wi(e,f,p,b,v,k,a,l)}function Kr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ul(e){Qn(e,qi,0),Xr(e)}function Nl(e,n){try{return e._strategySizeAlgorithm(n)}catch(a){return so(e,a),1}}function Li(e){return e._strategyHWM-e._queueTotalSize}function jl(e,n,a){try{Qn(e,n,a)}catch(f){so(e,f);return}let l=e._controlledWritableStream;if(!Ie(l)&&l._state==="writable"){let f=uo(e);io(l,f)}Xr(e)}function Xr(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){oo(n);return}if(e._queue.length===0)return;let l=fl(e);l===qi?Hl(e):Gl(e,l)}function so(e,n){e._controlledWritableStream._state==="writable"&&Fi(e,n)}function Hl(e){let n=e._controlledWritableStream;ql(n),Yn(e);let a=e._closeAlgorithm();Kr(e),E(a,()=>{xl(n)},l=>{Bl(n,l)})}function Gl(e,n){let a=e._controlledWritableStream;Wl(a);let l=e._writeAlgorithm(n);E(l,()=>{Il(a);let f=a._state;if(Yn(e),!Ie(a)&&f==="writable"){let p=uo(e);io(a,p)}Xr(e)},f=>{a._state==="writable"&&Kr(e),Ol(a,f)})}function uo(e){return Li(e)<=0}function Fi(e,n){let a=e._controlledWritableStream;Kr(e),no(a,n)}function Zr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function lo(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function pt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function sr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Jr(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function $i(e,n){Jr(e),co(e,n)}function Vl(e){Jr(e),zi(e)}function co(e,n){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Yl(e,n){$i(e,n)}function zi(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function en(e){e._readyPromise=R((n,a)=>{e._readyPromise_resolve=n,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function fo(e,n){en(e),Ui(e,n)}function Mi(e){en(e),ho(e)}function Ui(e,n){e._readyPromise_reject!==void 0&&(M(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ql(e){en(e)}function Kl(e,n){fo(e,n)}function ho(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Ni=typeof DOMException<"u"?DOMException:void 0;function Xl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Zl(){let e=function(a,l){this.message=a||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Jl=Xl(Ni)?Ni:Zl();function ji(e,n,a,l,f,p){let b=ge(e),v=Ai(n);e._disturbed=!0;let k=!1,B=y(void 0);return R((W,L)=>{let G;if(p!==void 0){if(G=()=>{let C=new Jl("Aborted","AbortError"),O=[];l||O.push(()=>n._state==="writable"?Yr(n,C):y(void 0)),f||O.push(()=>e._state==="readable"?Te(e,C):y(void 0)),se(()=>Promise.all(O.map($=>$())),!0,C)},p.aborted){G();return}p.addEventListener("abort",G)}function Ee(){return R((C,O)=>{function $(he){he?C():S(Bt(),$,O)}$(!1)})}function Bt(){return k?y(!0):S(v._readyPromise,()=>R((C,O)=>{Zt(b,{_chunkSteps:$=>{B=S(Di(v,$),void 0,o),C(!1)},_closeSteps:()=>C(!0),_errorSteps:O})}))}if(ze(e,b._closedPromise,C=>{l?Se(!0,C):se(()=>Yr(n,C),!0,C)}),ze(n,v._closedPromise,C=>{f?Se(!0,C):se(()=>Te(e,C),!0,C)}),re(e,b._closedPromise,()=>{a?Se():se(()=>Fl(v))}),Ie(n)||n._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");f?Se(!0,C):se(()=>Te(e,C),!0,C)}M(Ee());function rt(){let C=B;return S(B,()=>C!==B?rt():void 0)}function ze(C,O,$){C._state==="errored"?$(C._storedError):w(O,$)}function re(C,O,$){C._state==="closed"?$():T(O,$)}function se(C,O,$){if(k)return;k=!0,n._state==="writable"&&!Ie(n)?T(rt(),he):he();function he(){E(C(),()=>Me(O,$),Dt=>Me(!0,Dt))}}function Se(C,O){k||(k=!0,n._state==="writable"&&!Ie(n)?T(rt(),()=>Me(C,O)):Me(C,O))}function Me(C,O){Bi(v),ne(b),p!==void 0&&p.removeEventListener("abort",G),C?L(O):W(void 0)}})}class Ot{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!tn(this))throw on("desiredSize");return mo(this)}close(){if(!tn(this))throw on("close");if(!xt(this))throw new TypeError("The stream is not in a state that permits close");lr(this)}enqueue(n=void 0){if(!tn(this))throw on("enqueue");if(!xt(this))throw new TypeError("The stream is not in a state that permits enqueue");return nn(this,n)}error(n=void 0){if(!tn(this))throw on("error");Ze(this,n)}[Pe](n){Xe(this);let a=this._cancelAlgorithm(n);return rn(this),a}[st](n){let a=this._controlledReadableStream;if(this._queue.length>0){let l=Yn(this);this._closeRequested&&this._queue.length===0?(rn(this),cr(a)):ur(this),n._chunkSteps(l)}else Qe(a,n),ur(this)}}Object.defineProperties(Ot.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ot.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function tn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Ot}function ur(e){if(!Hi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ur(e))},l=>{Ze(e,l)})}function Hi(e){let n=e._controlledReadableStream;return!xt(e)||!e._started?!1:!!(tt(n)&&ke(n)>0||mo(e)>0)}function rn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function lr(e){if(!xt(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(rn(e),cr(n))}function nn(e,n){if(!xt(e))return;let a=e._controlledReadableStream;if(tt(a)&&ke(a)>0)ct(a,n,!1);else{let l;try{l=e._strategySizeAlgorithm(n)}catch(f){throw Ze(e,f),f}try{Qn(e,n,l)}catch(f){throw Ze(e,f),f}}ur(e)}function Ze(e,n){let a=e._controlledReadableStream;a._state==="readable"&&(Xe(e),rn(e),Qi(a,n))}function mo(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function ec(e){return!Hi(e)}function xt(e){let n=e._controlledReadableStream._state;return!e._closeRequested&&n==="readable"}function Gi(e,n,a,l,f,p,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,Xe(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,e._readableStreamController=n;let v=a();E(y(v),()=>{n._started=!0,ur(n)},k=>{Ze(n,k)})}function tc(e,n,a,l){let f=Object.create(Ot.prototype),p=()=>{},b=()=>y(void 0),v=()=>y(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.pull!==void 0&&(b=()=>n.pull(f)),n.cancel!==void 0&&(v=k=>n.cancel(k)),Gi(e,f,p,b,v,a,l)}function on(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function rc(e,n){return ft(e._readableStreamController)?oc(e):nc(e)}function nc(e,n){let a=ge(e),l=!1,f=!1,p=!1,b=!1,v,k,B,W,L,G=R(re=>{L=re});function Ee(){return l?(f=!0,y(void 0)):(l=!0,Zt(a,{_chunkSteps:se=>{P(()=>{f=!1;let Se=se,Me=se;p||nn(B._readableStreamController,Se),b||nn(W._readableStreamController,Me),l=!1,f&&Ee()})},_closeSteps:()=>{l=!1,p||lr(B._readableStreamController),b||lr(W._readableStreamController),(!p||!b)&&L(void 0)},_errorSteps:()=>{l=!1}}),y(void 0))}function Bt(re){if(p=!0,v=re,b){let se=Jt([v,k]),Se=Te(e,se);L(Se)}return G}function rt(re){if(b=!0,k=re,p){let se=Jt([v,k]),Se=Te(e,se);L(Se)}return G}function ze(){}return B=po(ze,Ee,Bt),W=po(ze,Ee,rt),w(a._closedPromise,re=>{Ze(B._readableStreamController,re),Ze(W._readableStreamController,re),(!p||!b)&&L(void 0)}),[B,W]}function oc(e){let n=ge(e),a=!1,l=!1,f=!1,p=!1,b=!1,v,k,B,W,L,G=R(C=>{L=C});function Ee(C){w(C._closedPromise,O=>{C===n&&(ve(B._readableStreamController,O),ve(W._readableStreamController,O),(!p||!b)&&L(void 0))})}function Bt(){ht(n)&&(ne(n),n=ge(e),Ee(n)),Zt(n,{_chunkSteps:O=>{P(()=>{l=!1,f=!1;let $=O,he=O;if(!p&&!b)try{he=hi(O)}catch(Dt){ve(B._readableStreamController,Dt),ve(W._readableStreamController,Dt),L(Te(e,Dt));return}p||Ur(B._readableStreamController,$),b||Ur(W._readableStreamController,he),a=!1,l?ze():f&&re()})},_closeSteps:()=>{a=!1,p||tr(B._readableStreamController),b||tr(W._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&Nr(B._readableStreamController,0),W._readableStreamController._pendingPullIntos.length>0&&Nr(W._readableStreamController,0),(!p||!b)&&L(void 0)},_errorSteps:()=>{a=!1}})}function rt(C,O){Ke(n)&&(ne(n),n=vi(e),Ee(n));let $=O?W:B,he=O?B:W;Ci(n,C,{_chunkSteps:qt=>{P(()=>{l=!1,f=!1;let Wt=O?b:p;if(O?p:b)Wt||jr($._readableStreamController,qt);else{let ua;try{ua=hi(qt)}catch(yo){ve($._readableStreamController,yo),ve(he._readableStreamController,yo),L(Te(e,yo));return}Wt||jr($._readableStreamController,qt),Ur(he._readableStreamController,ua)}a=!1,l?ze():f&&re()})},_closeSteps:qt=>{a=!1;let Wt=O?b:p,mn=O?p:b;Wt||tr($._readableStreamController),mn||tr(he._readableStreamController),qt!==void 0&&(Wt||jr($._readableStreamController,qt),!mn&&he._readableStreamController._pendingPullIntos.length>0&&Nr(he._readableStreamController,0)),(!Wt||!mn)&&L(void 0)},_errorSteps:()=>{a=!1}})}function ze(){if(a)return l=!0,y(void 0);a=!0;let C=Jn(B._readableStreamController);return C===null?Bt():rt(C._view,!1),y(void 0)}function re(){if(a)return f=!0,y(void 0);a=!0;let C=Jn(W._readableStreamController);return C===null?Bt():rt(C._view,!0),y(void 0)}function se(C){if(p=!0,v=C,b){let O=Jt([v,k]),$=Te(e,O);L($)}return G}function Se(C){if(b=!0,k=C,p){let O=Jt([v,k]),$=Te(e,O);L($)}return G}function Me(){}return B=Yi(Me,ze,se),W=Yi(Me,re,Se),Ee(n),[B,W]}function ic(e,n){H(e,n);let a=e,l=a?.autoAllocateChunkSize,f=a?.cancel,p=a?.pull,b=a?.start,v=a?.type;return{autoAllocateChunkSize:l===void 0?void 0:de(l,`${n} has member 'autoAllocateChunkSize' that`),cancel:f===void 0?void 0:ac(f,a,`${n} has member 'cancel' that`),pull:p===void 0?void 0:sc(p,a,`${n} has member 'pull' that`),start:b===void 0?void 0:uc(b,a,`${n} has member 'start' that`),type:v===void 0?void 0:lc(v,`${n} has member 'type' that`)}}function ac(e,n,a){return U(e,a),l=>A(e,n,[l])}function sc(e,n,a){return U(e,a),l=>A(e,n,[l])}function uc(e,n,a){return U(e,a),l=>q(e,n,[l])}function lc(e,n){if(e=`${e}`,e!=="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function cc(e,n){H(e,n);let a=e?.mode;return{mode:a===void 0?void 0:fc(a,`${n} has member 'mode' that`)}}function fc(e,n){if(e=`${e}`,e!=="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function dc(e,n){H(e,n);let a=e?.preventCancel;return{preventCancel:Boolean(a)}}function Vi(e,n){H(e,n);let a=e?.preventAbort,l=e?.preventCancel,f=e?.preventClose,p=e?.signal;return p!==void 0&&hc(p,`${n} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(l),preventClose:Boolean(f),signal:p}}function hc(e,n){if(!El(e))throw new TypeError(`${n} is not an AbortSignal.`)}function mc(e,n){H(e,n);let a=e?.readable;$e(a,"readable","ReadableWritablePair"),lt(a,`${n} has member 'readable' that`);let l=e?.writable;return $e(l,"writable","ReadableWritablePair"),Pi(l,`${n} has member 'writable' that`),{readable:a,writable:l}}class Je{constructor(n={},a={}){n===void 0?n=null:ie(n,"First parameter");let l=Vr(a,"Second parameter"),f=ic(n,"First parameter");if(bo(this),f.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=or(l,0);bl(this,f,p)}else{let p=Gr(l),b=or(l,1);tc(this,f,b,p)}}get locked(){if(!et(this))throw bt("locked");return tt(this)}cancel(n=void 0){return et(this)?tt(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):Te(this,n):g(bt("cancel"))}getReader(n=void 0){if(!et(this))throw bt("getReader");return cc(n,"First parameter").mode===void 0?ge(this):vi(this)}pipeThrough(n,a={}){if(!et(this))throw bt("pipeThrough");te(n,1,"pipeThrough");let l=mc(n,"First parameter"),f=Vi(a,"Second parameter");if(tt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(kt(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=ji(this,l.writable,f.preventClose,f.preventAbort,f.preventCancel,f.signal);return M(p),l.readable}pipeTo(n,a={}){if(!et(this))return g(bt("pipeTo"));if(n===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!At(n))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=Vi(a,"Second parameter")}catch(f){return g(f)}return tt(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):kt(n)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ji(this,n,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!et(this))throw bt("tee");let n=rc(this);return Jt(n)}values(n=void 0){if(!et(this))throw bt("values");let a=dc(n,"First parameter");return ll(this,a.preventCancel)}}Object.defineProperties(Je.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Je.prototype,r.asyncIterator,{value:Je.prototype.values,writable:!0,configurable:!0});function po(e,n,a,l=1,f=()=>1){let p=Object.create(Je.prototype);bo(p);let b=Object.create(Ot.prototype);return Gi(p,b,e,n,a,l,f),p}function Yi(e,n,a){let l=Object.create(Je.prototype);bo(l);let f=Object.create(Pt.prototype);return Ri(l,f,e,n,a,0,void 0),l}function bo(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function et(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Je}function tt(e){return e._reader!==void 0}function Te(e,n){if(e._disturbed=!0,e._state==="closed")return y(void 0);if(e._state==="errored")return g(e._storedError);cr(e);let a=e._reader;a!==void 0&&ht(a)&&(a._readIntoRequests.forEach(f=>{f._closeSteps(void 0)}),a._readIntoRequests=new Z);let l=e._readableStreamController[Pe](n);return x(l,o)}function cr(e){e._state="closed";let n=e._reader;n!==void 0&&(Wr(n),Ke(n)&&(n._readRequests.forEach(a=>{a._closeSteps()}),n._readRequests=new Z))}function Qi(e,n){e._state="errored",e._storedError=n;let a=e._reader;a!==void 0&&(Le(a,n),Ke(a)?(a._readRequests.forEach(l=>{l._errorSteps(n)}),a._readRequests=new Z):(a._readIntoRequests.forEach(l=>{l._errorSteps(n)}),a._readIntoRequests=new Z))}function bt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ki(e,n){H(e,n);let a=e?.highWaterMark;return $e(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ae(a)}}let Xi=e=>e.byteLength;Object.defineProperty(Xi,"name",{value:"size",configurable:!0});class an{constructor(n){te(n,1,"ByteLengthQueuingStrategy"),n=Ki(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Ji(this))throw Zi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ji(this))throw Zi("size");return Xi}}Object.defineProperties(an.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(an.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Zi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Ji(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof an}let ea=()=>1;Object.defineProperty(ea,"name",{value:"size",configurable:!0});class sn{constructor(n){te(n,1,"CountQueuingStrategy"),n=Ki(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!ra(this))throw ta("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ra(this))throw ta("size");return ea}}Object.defineProperties(sn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(sn.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ta(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ra(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof sn}function pc(e,n){H(e,n);let a=e?.flush,l=e?.readableType,f=e?.start,p=e?.transform,b=e?.writableType;return{flush:a===void 0?void 0:bc(a,e,`${n} has member 'flush' that`),readableType:l,start:f===void 0?void 0:yc(f,e,`${n} has member 'start' that`),transform:p===void 0?void 0:gc(p,e,`${n} has member 'transform' that`),writableType:b}}function bc(e,n,a){return U(e,a),l=>A(e,n,[l])}function yc(e,n,a){return U(e,a),l=>q(e,n,[l])}function gc(e,n,a){return U(e,a),(l,f)=>A(e,n,[l,f])}class un{constructor(n={},a={},l={}){n===void 0&&(n=null);let f=Vr(a,"Second parameter"),p=Vr(l,"Third parameter"),b=pc(n,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=or(p,0),k=Gr(p),B=or(f,1),W=Gr(f),L,G=R(Ee=>{L=Ee});Sc(this,G,B,W,v,k),wc(this,b),b.start!==void 0?L(b.start(this._transformStreamController)):L(void 0)}get readable(){if(!na(this))throw sa("readable");return this._readable}get writable(){if(!na(this))throw sa("writable");return this._writable}}Object.defineProperties(un.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(un.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Sc(e,n,a,l,f,p){function b(){return n}function v(G){return Tc(e,G)}function k(G){return Ec(e,G)}function B(){return Cc(e)}e._writable=Al(b,v,B,k,a,l);function W(){return Pc(e)}function L(G){return cn(e,G),y(void 0)}e._readable=po(b,W,L,f,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,fn(e,!0),e._transformStreamController=void 0}function na(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof un}function ln(e,n){Ze(e._readable._readableStreamController,n),cn(e,n)}function cn(e,n){oa(e._transformStreamController),so(e._writable._writableStreamController,n),e._backpressure&&fn(e,!1)}function fn(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=R(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=n}class fr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!dn(this))throw hn("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return mo(n)}enqueue(n=void 0){if(!dn(this))throw hn("enqueue");ia(this,n)}error(n=void 0){if(!dn(this))throw hn("error");Rc(this,n)}terminate(){if(!dn(this))throw hn("terminate");vc(this)}}Object.defineProperties(fr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(fr.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function dn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof fr}function _c(e,n,a,l){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=l}function wc(e,n){let a=Object.create(fr.prototype),l=p=>{try{return ia(a,p),y(void 0)}catch(b){return g(b)}},f=()=>y(void 0);n.transform!==void 0&&(l=p=>n.transform(p,a)),n.flush!==void 0&&(f=()=>n.flush(a)),_c(e,a,l,f)}function oa(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function ia(e,n){let a=e._controlledTransformStream,l=a._readable._readableStreamController;if(!xt(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{nn(l,n)}catch(p){throw cn(a,p),a._readable._storedError}ec(l)!==a._backpressure&&fn(a,!0)}function Rc(e,n){ln(e._controlledTransformStream,n)}function aa(e,n){let a=e._transformAlgorithm(n);return x(a,void 0,l=>{throw ln(e._controlledTransformStream,l),l})}function vc(e){let n=e._controlledTransformStream,a=n._readable._readableStreamController;lr(a);let l=new TypeError("TransformStream terminated");cn(n,l)}function Tc(e,n){let a=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return x(l,()=>{let f=e._writable;if(f._state==="erroring")throw f._storedError;return aa(a,n)})}return aa(a,n)}function Ec(e,n){return ln(e,n),y(void 0)}function Cc(e){let n=e._readable,a=e._transformStreamController,l=a._flushAlgorithm();return oa(a),x(l,()=>{if(n._state==="errored")throw n._storedError;lr(n._readableStreamController)},f=>{throw ln(e,f),n._storedError})}function Pc(e){return fn(e,!1),e._backpressureChangePromise}function hn(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function sa(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=an,t.CountQueuingStrategy=sn,t.ReadableByteStreamController=Pt,t.ReadableStream=Je,t.ReadableStreamBYOBReader=nr,t.ReadableStreamBYOBRequest=er,t.ReadableStreamDefaultController=Ot,t.ReadableStreamDefaultReader=Xt,t.TransformStream=un,t.TransformStreamDefaultController=fr,t.WritableStream=ir,t.WritableStreamDefaultController=It,t.WritableStreamDefaultWriter=ar,Object.defineProperty(t,"__esModule",{value:!0})})});var ma=I(()=>{if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:r}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=r}catch(o){throw t.emitWarning=r,o}}catch{Object.assign(globalThis,ha())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let h=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=h.byteLength,u.enqueue(new Uint8Array(h)),i===s.size&&u.close()}})})}catch{}});async function*go(t,r=!0){for(let o of t)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let u=Math.min(s-i,pa),c=o.buffer.slice(i,i+u);i+=c.byteLength,yield new Uint8Array(c)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let c=await s.slice(i,Math.min(s.size,i+pa)).arrayBuffer();i+=c.byteLength,yield new Uint8Array(c)}}}var Bh,pa,ba,qc,Ue,hr=dr(()=>{Bh=Oe(ma(),1);pa=65536;ba=class So{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof So?c=u:c=i.encode(`${u}`),this.#r+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of go(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of go(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=go(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),c=o<0?Math.max(s+o,0):Math.min(o,s),h=Math.max(c-u,0),m=this.#e,d=[],_=0;for(let y of m){if(_>=h)break;let g=ArrayBuffer.isView(y)?y.byteLength:y.size;if(u&&g<=u)u-=g,c-=g;else{let S;ArrayBuffer.isView(y)?(S=y.subarray(u,Math.min(g,c)),_+=S.byteLength):(S=y.slice(u,Math.min(g,c)),_+=S.size),c-=g,d.push(S),u=0}}let R=new So([],{type:String(i).toLowerCase()});return R.#r=h,R.#e=d,R}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(ba.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});qc=ba,Ue=qc});var Wc,Lc,Lt,_o=dr(()=>{hr();Wc=class extends Ue{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i),i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof Ue&&/^(File)$/.test(r[Symbol.toStringTag])}},Lc=Wc,Lt=Lc});function Sa(t,r=Ue){var o=`${ya()}${ya()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return t.forEach((u,c)=>typeof u=="string"?i.push(s+wo(c)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+wo(c)+`"; filename="${wo(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var mr,Fc,$c,ya,zc,ga,wo,yt,gt,yn=dr(()=>{hr();_o();({toStringTag:mr,iterator:Fc,hasInstance:$c}=Symbol),ya=Math.random,zc="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ga=(t,r,o)=>(t+="",/^(Blob|File)$/.test(r&&r[mr])?[(o=o!==void 0?o+"":r[mr]=="File"?r.name:"blob",t),r.name!==o||r[mr]=="blob"?new Lt([r],o,r):r]:[t,r+""]),wo=(t,r)=>(r?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),yt=(t,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},gt=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[mr](){return"FormData"}[Fc](){return this.entries()}static[$c](r){return r&&typeof r=="object"&&r[mr]==="FormData"&&!zc.some(o=>typeof r[o]!="function")}append(...r){yt("append",arguments,2),this.#e.push(ga(...r))}delete(r){yt("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){yt("get",arguments,1),r+="";for(var o=this.#e,i=o.length,s=0;s<i;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return yt("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return yt("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){yt("forEach",arguments,1);for(var[i,s]of this)r.call(o,s,i,this)}set(...r){yt("set",arguments,2);var o=[],i=!0;r=ga(...r),this.#e.forEach(s=>{s[0]===r[0]?i&&(i=!o.push(r)):o.push(s)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var va=I((Gh,Ra)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Ra.exports=globalThis.DOMException});var br,Ta,Mc,Sn,vo=dr(()=>{br=require("node:fs"),Ta=Oe(va(),1);_o();hr();({stat:Mc}=br.promises),Sn=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new Sn({path:this.#e,lastModified:this.lastModified,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await Mc(this.#e);if(r>this.lastModified)throw new Ta.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,br.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ca={};la(Ca,{toFormData:()=>Yc});function Vc(t){let r=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),i}async function Yc(t,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new To(o[1]||o[2]),s,u,c,h,m,d,_=[],R=new gt,y=w=>{c+=T.decode(w,{stream:!0})},g=w=>{_.push(w)},S=()=>{let w=new Lt(_,d,{type:m});R.append(h,w)},E=()=>{R.append(h,c)},T=new TextDecoder("utf-8");T.decode(),i.onPartBegin=function(){i.onPartData=y,i.onPartEnd=E,s="",u="",c="",h="",m="",d=null,_.length=0},i.onHeaderField=function(w){s+=T.decode(w,{stream:!0})},i.onHeaderValue=function(w){u+=T.decode(w,{stream:!0})},i.onHeaderEnd=function(){if(u+=T.decode(),s=s.toLowerCase(),s==="content-disposition"){let w=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);w&&(h=w[2]||w[3]||""),d=Vc(u),d&&(i.onPartData=g,i.onPartEnd=S)}else s==="content-type"&&(m=u);u="",s=""};for await(let w of t)i.write(w);return i.end(),R}var xe,z,Ea,nt,_n,wn,Uc,yr,Nc,jc,Hc,Gc,St,To,Pa=dr(()=>{vo();yn();xe=0,z={START_BOUNDARY:xe++,HEADER_FIELD_START:xe++,HEADER_FIELD:xe++,HEADER_VALUE_START:xe++,HEADER_VALUE:xe++,HEADER_VALUE_ALMOST_DONE:xe++,HEADERS_ALMOST_DONE:xe++,PART_DATA_START:xe++,PART_DATA:xe++,END:xe++},Ea=1,nt={PART_BOUNDARY:Ea,LAST_BOUNDARY:Ea*=2},_n=10,wn=13,Uc=32,yr=45,Nc=58,jc=97,Hc=122,Gc=t=>t|32,St=()=>{},To=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=St,this.onHeaderField=St,this.onHeadersEnd=St,this.onHeaderValue=St,this.onPartBegin=St,this.onPartData=St,this.onPartEnd=St,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(r){let o=0,i=r.length,s=this.index,{lookbehind:u,boundary:c,boundaryChars:h,index:m,state:d,flags:_}=this,R=this.boundary.length,y=R-1,g=r.length,S,E,T=P=>{this[P+"Mark"]=o},w=P=>{delete this[P+"Mark"]},x=(P,q,A,V)=>{(q===void 0||q!==A)&&this[P](V&&V.subarray(q,A))},M=(P,q)=>{let A=P+"Mark";A in this&&(q?(x(P,this[A],o,r),delete this[A]):(x(P,this[A],r.length,r),this[A]=0))};for(o=0;o<i;o++)switch(S=r[o],d){case z.START_BOUNDARY:if(m===c.length-2){if(S===yr)_|=nt.LAST_BOUNDARY;else if(S!==wn)return;m++;break}else if(m-1===c.length-2){if(_&nt.LAST_BOUNDARY&&S===yr)d=z.END,_=0;else if(!(_&nt.LAST_BOUNDARY)&&S===_n)m=0,x("onPartBegin"),d=z.HEADER_FIELD_START;else return;break}S!==c[m+2]&&(m=-2),S===c[m+2]&&m++;break;case z.HEADER_FIELD_START:d=z.HEADER_FIELD,T("onHeaderField"),m=0;case z.HEADER_FIELD:if(S===wn){w("onHeaderField"),d=z.HEADERS_ALMOST_DONE;break}if(m++,S===yr)break;if(S===Nc){if(m===1)return;M("onHeaderField",!0),d=z.HEADER_VALUE_START;break}if(E=Gc(S),E<jc||E>Hc)return;break;case z.HEADER_VALUE_START:if(S===Uc)break;T("onHeaderValue"),d=z.HEADER_VALUE;case z.HEADER_VALUE:S===wn&&(M("onHeaderValue",!0),x("onHeaderEnd"),d=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(S!==_n)return;d=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(S!==_n)return;x("onHeadersEnd"),d=z.PART_DATA_START;break;case z.PART_DATA_START:d=z.PART_DATA,T("onPartData");case z.PART_DATA:if(s=m,m===0){for(o+=y;o<g&&!(r[o]in h);)o+=R;o-=y,S=r[o]}if(m<c.length)c[m]===S?(m===0&&M("onPartData",!0),m++):m=0;else if(m===c.length)m++,S===wn?_|=nt.PART_BOUNDARY:S===yr?_|=nt.LAST_BOUNDARY:m=0;else if(m-1===c.length)if(_&nt.PART_BOUNDARY){if(m=0,S===_n){_&=~nt.PART_BOUNDARY,x("onPartEnd"),x("onPartBegin"),d=z.HEADER_FIELD_START;break}}else _&nt.LAST_BOUNDARY&&S===yr?(x("onPartEnd"),d=z.END,_=0):m=0;if(m>0)u[m-1]=S;else if(s>0){let P=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);x("onPartData",0,s,P),s=0,T("onPartData"),o--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}M("onHeaderField"),M("onHeaderValue"),M("onPartData"),this.index=m,this.state=d,this.flags=_}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Rs=I((Km,ws)=>{ws.exports=_s;_s.sync=kf;var gs=require("fs");function Af(t,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var i=0;i<o.length;i++){var s=o[i].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function Ss(t,r,o){return!t.isSymbolicLink()&&!t.isFile()?!1:Af(r,o)}function _s(t,r,o){gs.stat(t,function(i,s){o(i,i?!1:Ss(s,t,r))})}function kf(t,r){return Ss(gs.statSync(t),t,r)}});var Ps=I((Xm,Cs)=>{Cs.exports=Ts;Ts.sync=If;var vs=require("fs");function Ts(t,r,o){vs.stat(t,function(i,s){o(i,i?!1:Es(s,r))})}function If(t,r){return Es(vs.statSync(t),r)}function Es(t,r){return t.isFile()&&Of(t,r)}function Of(t,r){var o=t.mode,i=t.uid,s=t.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),c=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),h=parseInt("100",8),m=parseInt("010",8),d=parseInt("001",8),_=h|m,R=o&d||o&m&&s===c||o&h&&i===u||o&_&&u===0;return R}});var ks=I((Jm,As)=>{var Zm=require("fs"),On;process.platform==="win32"||global.TESTING_WINDOWS?On=Rs():On=Ps();As.exports=Fo;Fo.sync=xf;function Fo(t,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){Fo(t,r||{},function(u,c){u?s(u):i(c)})})}On(t,r||{},function(i,s){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,s=!1),o(i,s)})}function xf(t,r){try{return On.sync(t,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Ws=I((ep,qs)=>{var zt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Is=require("path"),Bf=zt?";":":",Os=ks(),xs=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Bs=(t,r)=>{let o=r.colon||Bf,i=t.match(/\//)||zt&&t.match(/\\/)?[""]:[...zt?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=zt?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=zt?s.split(o):[""];return zt&&t.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:s}},Ds=(t,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:i,pathExt:s,pathExtExe:u}=Bs(t,r),c=[],h=d=>new Promise((_,R)=>{if(d===i.length)return r.all&&c.length?_(c):R(xs(t));let y=i[d],g=/^".*"$/.test(y)?y.slice(1,-1):y,S=Is.join(g,t),E=!g&&/^\.[\\\/]/.test(t)?t.slice(0,2)+S:S;_(m(E,d,0))}),m=(d,_,R)=>new Promise((y,g)=>{if(R===s.length)return y(h(_+1));let S=s[R];Os(d+S,{pathExt:u},(E,T)=>{if(!E&&T)if(r.all)c.push(d+S);else return y(d+S);return y(m(d,_,R+1))})});return o?h(0).then(d=>o(null,d),o):h(0)},Df=(t,r)=>{r=r||{};let{pathEnv:o,pathExt:i,pathExtExe:s}=Bs(t,r),u=[];for(let c=0;c<o.length;c++){let h=o[c],m=/^".*"$/.test(h)?h.slice(1,-1):h,d=Is.join(m,t),_=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+d:d;for(let R=0;R<i.length;R++){let y=_+i[R];try{if(Os.sync(y,{pathExt:s}))if(r.all)u.push(y);else return y}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw xs(t)};qs.exports=Ds;Ds.sync=Df});var zo=I((tp,$o)=>{"use strict";var Ls=(t={})=>{let r=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};$o.exports=Ls;$o.exports.default=Ls});var Ms=I((rp,zs)=>{"use strict";var Fs=require("path"),qf=Ws(),Wf=zo();function $s(t,r){let o=t.options.env||process.env,i=process.cwd(),s=t.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(t.options.cwd)}catch{}let c;try{c=qf.sync(t.command,{path:o[Wf({env:o})],pathExt:r?Fs.delimiter:void 0})}catch{}finally{u&&process.chdir(i)}return c&&(c=Fs.resolve(s?t.options.cwd:"",c)),c}function Lf(t){return $s(t)||$s(t,!0)}zs.exports=Lf});var Us=I((np,Uo)=>{"use strict";var Mo=/([()\][%!^"`<>&|;, *?])/g;function Ff(t){return t=t.replace(Mo,"^$1"),t}function $f(t,r){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Mo,"^$1"),r&&(t=t.replace(Mo,"^$1")),t}Uo.exports.command=Ff;Uo.exports.argument=$f});var js=I((op,Ns)=>{"use strict";Ns.exports=/^#!(.*)/});var Gs=I((ip,Hs)=>{"use strict";var zf=js();Hs.exports=(t="")=>{let r=t.match(zf);if(!r)return null;let[o,i]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s}});var Ys=I((ap,Vs)=>{"use strict";var No=require("fs"),Mf=Gs();function Uf(t){let o=Buffer.alloc(150),i;try{i=No.openSync(t,"r"),No.readSync(i,o,0,150,0),No.closeSync(i)}catch{}return Mf(o.toString())}Vs.exports=Uf});var Zs=I((sp,Xs)=>{"use strict";var Nf=require("path"),Qs=Ms(),Ks=Us(),jf=Ys(),Hf=process.platform==="win32",Gf=/\.(?:com|exe)$/i,Vf=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Yf(t){t.file=Qs(t);let r=t.file&&jf(t.file);return r?(t.args.unshift(t.file),t.command=r,Qs(t)):t.file}function Qf(t){if(!Hf)return t;let r=Yf(t),o=!Gf.test(r);if(t.options.forceShell||o){let i=Vf.test(r);t.command=Nf.normalize(t.command),t.command=Ks.command(t.command),t.args=t.args.map(u=>Ks.argument(u,i));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Kf(t,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let i={command:t,args:r,options:o,file:void 0,original:{command:t,args:r}};return o.shell?i:Qf(i)}Xs.exports=Kf});var tu=I((up,eu)=>{"use strict";var jo=process.platform==="win32";function Ho(t,r){return Object.assign(new Error(`${r} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${t.command}`,path:t.command,spawnargs:t.args})}function Xf(t,r){if(!jo)return;let o=t.emit;t.emit=function(i,s){if(i==="exit"){let u=Js(s,r,"spawn");if(u)return o.call(t,"error",u)}return o.apply(t,arguments)}}function Js(t,r){return jo&&t===1&&!r.file?Ho(r.original,"spawn"):null}function Zf(t,r){return jo&&t===1&&!r.file?Ho(r.original,"spawnSync"):null}eu.exports={hookChildProcess:Xf,verifyENOENT:Js,verifyENOENTSync:Zf,notFoundError:Ho}});var ou=I((lp,Mt)=>{"use strict";var ru=require("child_process"),Go=Zs(),Vo=tu();function nu(t,r,o){let i=Go(t,r,o),s=ru.spawn(i.command,i.args,i.options);return Vo.hookChildProcess(s,i),s}function Jf(t,r,o){let i=Go(t,r,o),s=ru.spawnSync(i.command,i.args,i.options);return s.error=s.error||Vo.verifyENOENTSync(s.status,i),s}Mt.exports=nu;Mt.exports.spawn=nu;Mt.exports.sync=Jf;Mt.exports._parse=Go;Mt.exports._enoent=Vo});var au=I((cp,iu)=>{"use strict";iu.exports=t=>{let r=typeof t=="string"?`
`:`
`.charCodeAt(),o=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t[t.length-1]===o&&(t=t.slice(0,t.length-1)),t}});var lu=I((fp,Ar)=>{"use strict";var Pr=require("path"),su=zo(),uu=t=>{t={cwd:process.cwd(),path:process.env[su()],execPath:process.execPath,...t};let r,o=Pr.resolve(t.cwd),i=[];for(;r!==o;)i.push(Pr.join(o,"node_modules/.bin")),r=o,o=Pr.resolve(o,"..");let s=Pr.resolve(t.cwd,t.execPath,"..");return i.push(s),i.concat(t.path).join(Pr.delimiter)};Ar.exports=uu;Ar.exports.default=uu;Ar.exports.env=t=>{t={env:process.env,...t};let r={...t.env},o=su({env:r});return t.path=r[o],r[o]=Ar.exports(t),r}});var fu=I((dp,Yo)=>{"use strict";var cu=(t,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o));return t};Yo.exports=cu;Yo.exports.default=cu});var hu=I((hp,Bn)=>{"use strict";var ed=fu(),xn=new WeakMap,du=(t,r={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let o,i=0,s=t.displayName||t.name||"<anonymous>",u=function(...c){if(xn.set(u,++i),i===1)o=t.apply(this,c),t=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return ed(u,t),xn.set(u,i),u};Bn.exports=du;Bn.exports.default=du;Bn.exports.callCount=t=>{if(!xn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return xn.get(t)}});var mu=I(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.SIGNALS=void 0;var td=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Dn.SIGNALS=td});var Qo=I(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.SIGRTMAX=Ut.getRealtimeSignals=void 0;var rd=function(){let t=bu-pu+1;return Array.from({length:t},nd)};Ut.getRealtimeSignals=rd;var nd=function(t,r){return{name:`SIGRT${r+1}`,number:pu+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},pu=34,bu=64;Ut.SIGRTMAX=bu});var yu=I(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.getSignals=void 0;var od=require("os"),id=mu(),ad=Qo(),sd=function(){let t=(0,ad.getRealtimeSignals)();return[...id.SIGNALS,...t].map(ud)};qn.getSignals=sd;var ud=function({name:t,number:r,description:o,action:i,forced:s=!1,standard:u}){let{signals:{[t]:c}}=od.constants,h=c!==void 0;return{name:t,number:h?c:r,description:o,supported:h,action:i,forced:s,standard:u}}});var Su=I(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.signalsByNumber=Nt.signalsByName=void 0;var ld=require("os"),gu=yu(),cd=Qo(),fd=function(){return(0,gu.getSignals)().reduce(dd,{})},dd=function(t,{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:h}){return{...t,[r]:{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:h}}},hd=fd();Nt.signalsByName=hd;var md=function(){let t=(0,gu.getSignals)(),r=cd.SIGRTMAX+1,o=Array.from({length:r},(i,s)=>pd(s,t));return Object.assign({},...o)},pd=function(t,r){let o=bd(t,r);if(o===void 0)return{};let{name:i,description:s,supported:u,action:c,forced:h,standard:m}=o;return{[t]:{name:i,number:t,description:s,supported:u,action:c,forced:h,standard:m}}},bd=function(t,r){let o=r.find(({name:i})=>ld.constants.signals[i]===t);return o!==void 0?o:r.find(i=>i.number===t)},yd=md();Nt.signalsByNumber=yd});var wu=I((gp,_u)=>{"use strict";var{signalsByName:gd}=Su(),Sd=({timedOut:t,timeout:r,errorCode:o,signal:i,signalDescription:s,exitCode:u,isCanceled:c})=>t?`timed out after ${r} milliseconds`:c?"was canceled":o!==void 0?`failed with ${o}`:i!==void 0?`was killed with ${i} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",_d=({stdout:t,stderr:r,all:o,error:i,signal:s,exitCode:u,command:c,escapedCommand:h,timedOut:m,isCanceled:d,killed:_,parsed:{options:{timeout:R}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let y=s===void 0?void 0:gd[s].description,g=i&&i.code,E=`Command ${Sd({timedOut:m,timeout:R,errorCode:g,signal:s,signalDescription:y,exitCode:u,isCanceled:d})}: ${c}`,T=Object.prototype.toString.call(i)==="[object Error]",w=T?`${E}
${i.message}`:E,x=[w,r,t].filter(Boolean).join(`
`);return T?(i.originalMessage=i.message,i.message=x):i=new Error(x),i.shortMessage=w,i.command=c,i.escapedCommand=h,i.exitCode=u,i.signal=s,i.signalDescription=y,i.stdout=t,i.stderr=r,o!==void 0&&(i.all=o),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(m),i.isCanceled=d,i.killed=_&&!m,i};_u.exports=_d});var vu=I((Sp,Ko)=>{"use strict";var Wn=["stdin","stdout","stderr"],wd=t=>Wn.some(r=>t[r]!==void 0),Ru=t=>{if(!t)return;let{stdio:r}=t;if(r===void 0)return Wn.map(i=>t[i]);if(wd(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Wn.map(i=>`\`${i}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,Wn.length);return Array.from({length:o},(i,s)=>r[s])};Ko.exports=Ru;Ko.exports.node=t=>{let r=Ru(t);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var Tu=I((_p,Ln)=>{Ln.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ln.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ln.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var ku=I((wp,Gt)=>{var N=global.process,vt=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};vt(N)?(Eu=require("assert"),jt=Tu(),Cu=/^win/i.test(N.platform),kr=require("events"),typeof kr!="function"&&(kr=kr.EventEmitter),N.__signal_exit_emitter__?X=N.__signal_exit_emitter__:(X=N.__signal_exit_emitter__=new kr,X.count=0,X.emitted={}),X.infinite||(X.setMaxListeners(1/0),X.infinite=!0),Gt.exports=function(t,r){if(!!vt(global.process)){Eu.equal(typeof t,"function","a callback must be provided for exit handler"),Ht===!1&&Xo();var o="exit";r&&r.alwaysLast&&(o="afterexit");var i=function(){X.removeListener(o,t),X.listeners("exit").length===0&&X.listeners("afterexit").length===0&&Fn()};return X.on(o,t),i}},Fn=function(){!Ht||!vt(global.process)||(Ht=!1,jt.forEach(function(r){try{N.removeListener(r,$n[r])}catch{}}),N.emit=zn,N.reallyExit=Zo,X.count-=1)},Gt.exports.unload=Fn,Tt=function(r,o,i){X.emitted[r]||(X.emitted[r]=!0,X.emit(r,o,i))},$n={},jt.forEach(function(t){$n[t]=function(){if(!!vt(global.process)){var o=N.listeners(t);o.length===X.count&&(Fn(),Tt("exit",null,t),Tt("afterexit",null,t),Cu&&t==="SIGHUP"&&(t="SIGINT"),N.kill(N.pid,t))}}}),Gt.exports.signals=function(){return jt},Ht=!1,Xo=function(){Ht||!vt(global.process)||(Ht=!0,X.count+=1,jt=jt.filter(function(r){try{return N.on(r,$n[r]),!0}catch{return!1}}),N.emit=Au,N.reallyExit=Pu)},Gt.exports.load=Xo,Zo=N.reallyExit,Pu=function(r){!vt(global.process)||(N.exitCode=r||0,Tt("exit",N.exitCode,null),Tt("afterexit",N.exitCode,null),Zo.call(N,N.exitCode))},zn=N.emit,Au=function(r,o){if(r==="exit"&&vt(global.process)){o!==void 0&&(N.exitCode=o);var i=zn.apply(this,arguments);return Tt("exit",N.exitCode,null),Tt("afterexit",N.exitCode,null),i}else return zn.apply(this,arguments)}):Gt.exports=function(){};var Eu,jt,Cu,kr,X,Fn,Tt,$n,Ht,Xo,Zo,Pu,zn,Au});var Ou=I((Rp,Iu)=>{"use strict";var Rd=require("os"),vd=ku(),Td=1e3*5,Ed=(t,r="SIGTERM",o={})=>{let i=t(r);return Cd(t,r,o,i),i},Cd=(t,r,o,i)=>{if(!Pd(r,o,i))return;let s=kd(o),u=setTimeout(()=>{t("SIGKILL")},s);u.unref&&u.unref()},Pd=(t,{forceKillAfterTimeout:r},o)=>Ad(t)&&r!==!1&&o,Ad=t=>t===Rd.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",kd=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return Td;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Id=(t,r)=>{t.kill()&&(r.isCanceled=!0)},Od=(t,r,o)=>{t.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},xd=(t,{timeout:r,killSignal:o="SIGTERM"},i)=>{if(r===0||r===void 0)return i;let s,u=new Promise((h,m)=>{s=setTimeout(()=>{Od(t,o,m)},r)}),c=i.finally(()=>{clearTimeout(s)});return Promise.race([u,c])},Bd=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Dd=async(t,{cleanup:r,detached:o},i)=>{if(!r||o)return i;let s=vd(()=>{t.kill()});return i.finally(()=>{s()})};Iu.exports={spawnedKill:Ed,spawnedCancel:Id,setupTimeout:xd,validateTimeout:Bd,setExitHandler:Dd}});var Bu=I((vp,xu)=>{"use strict";var qe=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";qe.writable=t=>qe(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";qe.readable=t=>qe(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";qe.duplex=t=>qe.writable(t)&&qe.readable(t);qe.transform=t=>qe.duplex(t)&&typeof t._transform=="function";xu.exports=qe});var qu=I((Tp,Du)=>{"use strict";var{PassThrough:qd}=require("stream");Du.exports=t=>{t={...t};let{array:r}=t,{encoding:o}=t,i=o==="buffer",s=!1;r?s=!(o||i):o=o||"utf8",i&&(o=null);let u=new qd({objectMode:s});o&&u.setEncoding(o);let c=0,h=[];return u.on("data",m=>{h.push(m),s?c=h.length:c+=m.length}),u.getBufferedValue=()=>r?h:i?Buffer.concat(h,c):h.join(""),u.getBufferedLength=()=>c,u}});var Wu=I((Ep,Ir)=>{"use strict";var{constants:Wd}=require("buffer"),Ld=require("stream"),{promisify:Fd}=require("util"),$d=qu(),zd=Fd(Ld.pipeline),Mn=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Jo(t,r){if(!t)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,i=$d(r);return await new Promise((s,u)=>{let c=h=>{h&&i.getBufferedLength()<=Wd.MAX_LENGTH&&(h.bufferedData=i.getBufferedValue()),u(h)};(async()=>{try{await zd(t,i),s()}catch(h){c(h)}})(),i.on("data",()=>{i.getBufferedLength()>o&&c(new Mn)})}),i.getBufferedValue()}Ir.exports=Jo;Ir.exports.buffer=(t,r)=>Jo(t,{...r,encoding:"buffer"});Ir.exports.array=(t,r)=>Jo(t,{...r,array:!0});Ir.exports.MaxBufferError=Mn});var Fu=I((Cp,Lu)=>{"use strict";var{PassThrough:Md}=require("stream");Lu.exports=function(){var t=[],r=new Md({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=i,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(t.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function i(){return t.length==0}function s(u){t=t.filter(function(c){return c!==u}),!t.length&&r.readable&&r.end()}}});var Uu=I((Pp,Mu)=>{"use strict";var zu=Bu(),$u=Wu(),Ud=Fu(),Nd=(t,r)=>{r===void 0||t.stdin===void 0||(zu(r)?r.pipe(t.stdin):t.stdin.end(r))},jd=(t,{all:r})=>{if(!r||!t.stdout&&!t.stderr)return;let o=Ud();return t.stdout&&o.add(t.stdout),t.stderr&&o.add(t.stderr),o},ei=async(t,r)=>{if(!!t){t.destroy();try{return await r}catch(o){return o.bufferedData}}},ti=(t,{encoding:r,buffer:o,maxBuffer:i})=>{if(!(!t||!o))return r?$u(t,{encoding:r,maxBuffer:i}):$u.buffer(t,{maxBuffer:i})},Hd=async({stdout:t,stderr:r,all:o},{encoding:i,buffer:s,maxBuffer:u},c)=>{let h=ti(t,{encoding:i,buffer:s,maxBuffer:u}),m=ti(r,{encoding:i,buffer:s,maxBuffer:u}),d=ti(o,{encoding:i,buffer:s,maxBuffer:u*2});try{return await Promise.all([c,h,m,d])}catch(_){return Promise.all([{error:_,signal:_.signal,timedOut:_.timedOut},ei(t,h),ei(r,m),ei(o,d)])}},Gd=({input:t})=>{if(zu(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};Mu.exports={handleInput:Nd,makeAllStream:jd,getSpawnedResult:Hd,validateInputSync:Gd}});var ju=I((Ap,Nu)=>{"use strict";var Vd=(async()=>{})().constructor.prototype,Yd=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(Vd,t)]),Qd=(t,r)=>{for(let[o,i]of Yd){let s=typeof r=="function"?(...u)=>Reflect.apply(i.value,r(),u):i.value.bind(r);Reflect.defineProperty(t,o,{...i,value:s})}return t},Kd=t=>new Promise((r,o)=>{t.on("exit",(i,s)=>{r({exitCode:i,signal:s})}),t.on("error",i=>{o(i)}),t.stdin&&t.stdin.on("error",i=>{o(i)})});Nu.exports={mergePromise:Qd,getSpawnedPromise:Kd}});var Vu=I((kp,Gu)=>{"use strict";var Hu=(t,r=[])=>Array.isArray(r)?[t,...r]:[t],Xd=/^[\w.-]+$/,Zd=/"/g,Jd=t=>typeof t!="string"||Xd.test(t)?t:`"${t.replace(Zd,'\\"')}"`,eh=(t,r)=>Hu(t,r).join(" "),th=(t,r)=>Hu(t,r).map(o=>Jd(o)).join(" "),rh=/ +/g,nh=t=>{let r=[];for(let o of t.trim().split(rh)){let i=r[r.length-1];i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${o}`:r.push(o)}return r};Gu.exports={joinCommand:eh,getEscapedCommand:th,parseCommand:nh}});var el=I((Ip,Vt)=>{"use strict";var oh=require("path"),ri=require("child_process"),ih=ou(),ah=au(),sh=lu(),uh=hu(),Un=wu(),Qu=vu(),{spawnedKill:lh,spawnedCancel:ch,setupTimeout:fh,validateTimeout:dh,setExitHandler:hh}=Ou(),{handleInput:mh,getSpawnedResult:ph,makeAllStream:bh,validateInputSync:yh}=Uu(),{mergePromise:Yu,getSpawnedPromise:gh}=ju(),{joinCommand:Ku,parseCommand:Xu,getEscapedCommand:Zu}=Vu(),Sh=1e3*1e3*100,_h=({env:t,extendEnv:r,preferLocal:o,localDir:i,execPath:s})=>{let u=r?{...process.env,...t}:t;return o?sh.env({env:u,cwd:i,execPath:s}):u},Ju=(t,r,o={})=>{let i=ih._parse(t,r,o);return t=i.command,r=i.args,o=i.options,o={maxBuffer:Sh,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=_h(o),o.stdio=Qu(o),process.platform==="win32"&&oh.basename(t,".exe")==="cmd"&&r.unshift("/q"),{file:t,args:r,options:o,parsed:i}},Or=(t,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":t.stripFinalNewline?ah(r):r,Nn=(t,r,o)=>{let i=Ju(t,r,o),s=Ku(t,r),u=Zu(t,r);dh(i.options);let c;try{c=ri.spawn(i.file,i.args,i.options)}catch(g){let S=new ri.ChildProcess,E=Promise.reject(Un({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return Yu(S,E)}let h=gh(c),m=fh(c,i.options,h),d=hh(c,i.options,m),_={isCanceled:!1};c.kill=lh.bind(null,c.kill.bind(c)),c.cancel=ch.bind(null,c,_);let y=uh(async()=>{let[{error:g,exitCode:S,signal:E,timedOut:T},w,x,M]=await ph(c,i.options,d),P=Or(i.options,w),q=Or(i.options,x),A=Or(i.options,M);if(g||S!==0||E!==null){let V=Un({error:g,exitCode:S,signal:E,stdout:P,stderr:q,all:A,command:s,escapedCommand:u,parsed:i,timedOut:T,isCanceled:_.isCanceled,killed:c.killed});if(!i.options.reject)return V;throw V}return{command:s,escapedCommand:u,exitCode:0,stdout:P,stderr:q,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return mh(c,i.options.input),c.all=bh(c,i.options),Yu(c,y)};Vt.exports=Nn;Vt.exports.sync=(t,r,o)=>{let i=Ju(t,r,o),s=Ku(t,r),u=Zu(t,r);yh(i.options);let c;try{c=ri.spawnSync(i.file,i.args,i.options)}catch(d){throw Un({error:d,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let h=Or(i.options,c.stdout,c.error),m=Or(i.options,c.stderr,c.error);if(c.error||c.status!==0||c.signal!==null){let d=Un({stdout:h,stderr:m,error:c.error,signal:c.signal,exitCode:c.status,command:s,escapedCommand:u,parsed:i,timedOut:c.error&&c.error.code==="ETIMEDOUT",isCanceled:!1,killed:c.signal!==null});if(!i.options.reject)return d;throw d}return{command:s,escapedCommand:u,exitCode:0,stdout:h,stderr:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Vt.exports.command=(t,r)=>{let[o,...i]=Xu(t);return Nn(o,i,r)};Vt.exports.commandSync=(t,r)=>{let[o,...i]=Xu(t);return Nn.sync(o,i,r)};Vt.exports.node=(t,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let i=Qu.node(o),s=process.execArgv.filter(h=>!h.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:c=s}=o;return Nn(u,[...c,t,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var Ph={};la(Ph,{default:()=>Ch});module.exports=Bc(Ph);var we=require("@raycast/api"),Ga=require("path"),Va=require("os");var An=require("@raycast/api");var Ua=Oe(require("node:http"),1),Na=Oe(require("node:https"),1),_t=Oe(require("node:zlib"),1),pe=Oe(require("node:stream"),1),Sr=require("node:buffer");function Dc(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let r=t.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=t.substring(5,r).split(";"),i="",s=!1,u=o[0]||"text/plain",c=u;for(let _=1;_<o.length;_++)o[_]==="base64"?s=!0:(c+=`;${o[_]}`,o[_].indexOf("charset=")===0&&(i=o[_].substring(8)));!o[0]&&!i.length&&(c+=";charset=US-ASCII",i="US-ASCII");let h=s?"base64":"ascii",m=unescape(t.substring(r+1)),d=Buffer.from(m,h);return d.type=u,d.typeFull=c,d.charset=i,d}var fa=Dc;var _e=Oe(require("node:stream"),1),je=require("node:util"),me=require("node:buffer");hr();yn();var Ne=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ue=class extends Ne{constructor(r,o,i){super(r,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var gn=Symbol.toStringTag,Ro=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[gn]==="URLSearchParams",pr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[gn]),_a=t=>typeof t=="object"&&(t[gn]==="AbortSignal"||t[gn]==="EventTarget"),wa=(t,r)=>{let o=new URL(r).hostname,i=new URL(t).hostname;return o===i||o.endsWith(`.${i}`)};var Qc=(0,je.promisify)(_e.default.pipeline),le=Symbol("Body internals"),Be=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:Ro(r)?r=me.Buffer.from(r.toString()):pr(r)||me.Buffer.isBuffer(r)||(je.types.isAnyArrayBuffer(r)?r=me.Buffer.from(r):ArrayBuffer.isView(r)?r=me.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof _e.default||(r instanceof gt?(r=Sa(r),i=r.type.split("=")[1]):r=me.Buffer.from(String(r))));let s=r;me.Buffer.isBuffer(r)?s=_e.default.Readable.from(r):pr(r)&&(s=_e.default.Readable.from(r.stream())),this[le]={body:r,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof _e.default&&r.on("error",u=>{let c=u instanceof Ne?u:new ue(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[le].error=c})}get body(){return this[le].stream}get bodyUsed(){return this[le].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await Rn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new gt,s=new URLSearchParams(await this.text());for(let[u,c]of s)i.append(u,c);return i}let{toFormData:o}=await Promise.resolve().then(()=>(Pa(),Ca));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[le].body&&this[le].body.type||"",o=await this.arrayBuffer();return new Ue([o],{type:r})}async json(){let r=await Rn(this);return JSON.parse(r.toString())}async text(){return(await Rn(this)).toString()}buffer(){return Rn(this)}};Be.prototype.buffer=(0,je.deprecate)(Be.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Be.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,je.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Rn(t){if(t[le].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[le].disturbed=!0,t[le].error)throw t[le].error;let{body:r}=t;if(r===null)return me.Buffer.alloc(0);if(!(r instanceof _e.default))return me.Buffer.alloc(0);let o=[],i=0;try{for await(let s of r){if(t.size>0&&i+s.length>t.size){let u=new ue(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw r.destroy(u),u}i+=s.length,o.push(s)}}catch(s){throw s instanceof Ne?s:new ue(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?me.Buffer.from(o.join("")):me.Buffer.concat(o,i)}catch(s){throw new ue(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new ue(`Premature close of server response while trying to fetch ${t.url}`)}var Ft=(t,r)=>{let o,i,{body:s}=t[le];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof _e.default&&typeof s.getBoundary!="function"&&(o=new _e.PassThrough({highWaterMark:r}),i=new _e.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(i),t[le].stream=o,s=i),s},Kc=(0,je.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),vn=(t,r)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":Ro(t)?"application/x-www-form-urlencoded;charset=UTF-8":pr(t)?t.type||null:me.Buffer.isBuffer(t)||je.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof gt?`multipart/form-data; boundary=${r[le].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Kc(t)}`:t instanceof _e.default?null:"text/plain;charset=UTF-8",Aa=t=>{let{body:r}=t[le];return r===null?0:pr(r)?r.size:me.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},ka=async(t,{body:r})=>{r===null?t.end():await Qc(r,t)};var Eo=require("node:util"),gr=Oe(require("node:http"),1),Tn=typeof gr.default.validateHeaderName=="function"?gr.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Co=typeof gr.default.validateHeaderValue=="function"?gr.default.validateHeaderValue:(t,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},ce=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof ce){let i=r.raw();for(let[s,u]of Object.entries(i))o.push(...u.map(c=>[s,c]))}else if(r!=null)if(typeof r=="object"&&!Eo.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||Eo.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,s])=>(Tn(i),Co(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0,super(o),new Proxy(this,{get(i,s,u){switch(s){case"append":case"set":return(c,h)=>(Tn(c),Co(c,String(h)),URLSearchParams.prototype[s].call(i,String(c).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return c=>(Tn(c),URLSearchParams.prototype[s].call(i,String(c).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(ce.prototype,["get","entries","forEach","values"].reduce((t,r)=>(t[r]={enumerable:!0},t),{}));function Ia(t=[]){return new ce(t.reduce((r,o,i,s)=>(i%2===0&&r.push(s.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return Tn(r),Co(r,String(o)),!0}catch{return!1}}))}var Xc=new Set([301,302,303,307,308]),En=t=>Xc.has(t);var Ce=Symbol("Response internals"),J=class extends Be{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,s=new ce(o.headers);if(r!==null&&!s.has("Content-Type")){let u=vn(r,this);u&&s.append("Content-Type",u)}this[Ce]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[Ce].type}get url(){return this[Ce].url||""}get status(){return this[Ce].status}get ok(){return this[Ce].status>=200&&this[Ce].status<300}get redirected(){return this[Ce].counter>0}get statusText(){return this[Ce].statusText}get headers(){return this[Ce].headers}get highWaterMark(){return this[Ce].highWaterMark}clone(){return new J(Ft(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!En(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new J(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new J(null,{status:0,statusText:""});return r[Ce].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(J.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var $a=require("node:url"),za=require("node:util");var Oa=t=>{if(t.search)return t.search;let r=t.href.length-1,o=t.hash||(t.href[r]==="#"?"#":"");return t.href[r-o.length]==="?"?"?":""};var Ba=require("node:net");function xa(t,r=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",r&&(t.pathname="",t.search=""),t)}var Da=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),qa="strict-origin-when-cross-origin";function Wa(t){if(!Da.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Zc(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let r=t.host.replace(/(^\[)|(]$)/g,""),o=(0,Ba.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(t.host)?!1:t.protocol==="file:"}function $t(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Zc(t)}function La(t,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let i=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,u=xa(s),c=xa(s,!0);u.toString().length>4096&&(u=c),r&&(u=r(u)),o&&(c=o(c));let h=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return c;case"unsafe-url":return u;case"strict-origin":return $t(u)&&!$t(h)?"no-referrer":c.toString();case"strict-origin-when-cross-origin":return u.origin===h.origin?u:$t(u)&&!$t(h)?"no-referrer":c;case"same-origin":return u.origin===h.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===h.origin?u:c;case"no-referrer-when-downgrade":return $t(u)&&!$t(h)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Fa(t){let r=(t.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&Da.has(i)&&(o=i);return o}var K=Symbol("Request internals"),Cn=t=>typeof t=="object"&&typeof t[K]=="object",Jc=(0,za.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),He=class extends Be{constructor(r,o={}){let i;if(Cn(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentails.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&Jc(),(o.body!=null||Cn(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:Cn(r)&&r.body!==null?Ft(r):null;super(u,{size:o.size||r.size||0});let c=new ce(o.headers||r.headers||{});if(u!==null&&!c.has("Content-Type")){let d=vn(u,this);d&&c.set("Content-Type",d)}let h=Cn(r)?r.signal:null;if("signal"in o&&(h=o.signal),h!=null&&!_a(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=o.referrer==null?r.referrer:o.referrer;if(m==="")m="no-referrer";else if(m){let d=new URL(m);m=/^about:(\/\/)?client$/.test(d)?"client":d}else m=void 0;this[K]={method:s,redirect:o.redirect||r.redirect||"follow",headers:c,parsedURL:i,signal:h,referrer:m},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[K].method}get url(){return(0,$a.format)(this[K].parsedURL)}get headers(){return this[K].headers}get redirect(){return this[K].redirect}get signal(){return this[K].signal}get referrer(){if(this[K].referrer==="no-referrer")return"";if(this[K].referrer==="client")return"about:client";if(this[K].referrer)return this[K].referrer.toString()}get referrerPolicy(){return this[K].referrerPolicy}set referrerPolicy(r){this[K].referrerPolicy=Wa(r)}clone(){return new He(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(He.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ma=t=>{let{parsedURL:r}=t[K],o=new ce(t[K].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(i="0"),t.body!==null){let h=Aa(t);typeof h=="number"&&!Number.isNaN(h)&&(i=String(h))}i&&o.set("Content-Length",i),t.referrerPolicy===""&&(t.referrerPolicy=qa),t.referrer&&t.referrer!=="no-referrer"?t[K].referrer=La(t):t[K].referrer="no-referrer",t[K].referrer instanceof URL&&o.set("Referer",t.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=t;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=Oa(r),c={path:r.pathname+u,method:t.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:r,options:c}};var Pn=class extends Ne{constructor(r,o="aborted"){super(r,o)}};yn();vo();var ef=new Set(["data:","http:","https:"]);async function wt(t,r){return new Promise((o,i)=>{let s=new He(t,r),{parsedURL:u,options:c}=Ma(s);if(!ef.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let S=fa(s.url),E=new J(S,{headers:{"Content-Type":S.typeFull}});o(E);return}let h=(u.protocol==="https:"?Na.default:Ua.default).request,{signal:m}=s,d=null,_=()=>{let S=new Pn("The operation was aborted.");i(S),s.body&&s.body instanceof pe.default.Readable&&s.body.destroy(S),!(!d||!d.body)&&d.body.emit("error",S)};if(m&&m.aborted){_();return}let R=()=>{_(),g()},y=h(u.toString(),c);m&&m.addEventListener("abort",R);let g=()=>{y.abort(),m&&m.removeEventListener("abort",R)};y.on("error",S=>{i(new ue(`request to ${s.url} failed, reason: ${S.message}`,"system",S)),g()}),tf(y,S=>{d.body.destroy(S)}),process.version<"v14"&&y.on("socket",S=>{let E;S.prependListener("end",()=>{E=S._eventsCount}),S.prependListener("close",T=>{if(d&&E<S._eventsCount&&!T){let w=new Error("Premature close");w.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",w)}})}),y.on("response",S=>{y.setTimeout(0);let E=Ia(S.rawHeaders);if(En(S.statusCode)){let P=E.get("Location"),q=null;try{q=P===null?null:new URL(P,s.url)}catch{if(s.redirect!=="manual"){i(new ue(`uri requested responds with an invalid redirect URL: ${P}`,"invalid-redirect")),g();return}}switch(s.redirect){case"error":i(new ue(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(q===null)break;if(s.counter>=s.follow){i(new ue(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let A={headers:new ce(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Ft(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!wa(s.url,q))for(let Z of["authorization","www-authenticate","cookie","cookie2"])A.headers.delete(Z);if(S.statusCode!==303&&s.body&&r.body instanceof pe.default.Readable){i(new ue("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&s.method==="POST")&&(A.method="GET",A.body=void 0,A.headers.delete("content-length"));let V=Fa(E);V&&(A.referrerPolicy=V),o(wt(new He(q,A))),g();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}m&&S.once("end",()=>{m.removeEventListener("abort",R)});let T=(0,pe.pipeline)(S,new pe.PassThrough,P=>{P&&i(P)});process.version<"v12.10"&&S.on("aborted",R);let w={url:s.url,status:S.statusCode,statusText:S.statusMessage,headers:E,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},x=E.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||x===null||S.statusCode===204||S.statusCode===304){d=new J(T,w),o(d);return}let M={flush:_t.default.Z_SYNC_FLUSH,finishFlush:_t.default.Z_SYNC_FLUSH};if(x==="gzip"||x==="x-gzip"){T=(0,pe.pipeline)(T,_t.default.createGunzip(M),P=>{P&&i(P)}),d=new J(T,w),o(d);return}if(x==="deflate"||x==="x-deflate"){let P=(0,pe.pipeline)(S,new pe.PassThrough,q=>{q&&i(q)});P.once("data",q=>{(q[0]&15)===8?T=(0,pe.pipeline)(T,_t.default.createInflate(),A=>{A&&i(A)}):T=(0,pe.pipeline)(T,_t.default.createInflateRaw(),A=>{A&&i(A)}),d=new J(T,w),o(d)}),P.once("end",()=>{d||(d=new J(T,w),o(d))});return}if(x==="br"){T=(0,pe.pipeline)(T,_t.default.createBrotliDecompress(),P=>{P&&i(P)}),d=new J(T,w),o(d);return}d=new J(T,w),o(d)}),ka(y,s).catch(i)})}function tf(t,r){let o=Sr.Buffer.from(`0\r
\r
`),i=!1,s=!1,u;t.on("response",c=>{let{headers:h}=c;i=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),t.on("socket",c=>{let h=()=>{if(i&&!s){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}};c.prependListener("close",h),t.on("abort",()=>{c.removeListener("close",h)}),c.on("data",m=>{s=Sr.Buffer.compare(m.slice(-5),o)===0,!s&&u&&(s=Sr.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&Sr.Buffer.compare(m.slice(-2),o.slice(3))===0),u=m})})}var _r=require("@raycast/api"),{accessKey:ja,secretKey:rf}=(0,_r.getPreferenceValues)(),ot=new _r.OAuth.PKCEClient({redirectMethod:_r.OAuth.RedirectMethod.Web,providerName:"Unsplash",providerIcon:"unsplash-logo.png",description:"Login to your Unsplash account."}),Ha=async()=>{let t=await ot.authorizationRequest({endpoint:"https://unsplash.com/oauth/authorize",clientId:ja,scope:"public read_user write_likes"}),{authorizationCode:r}=await ot.authorize(t),o=new URLSearchParams;o.append("client_id",ja),o.append("client_secret",rf),o.append("redirect_uri",t.redirectURI),o.append("code",r),o.append("grant_type","authorization_code");let i=await wt("https://unsplash.com/oauth/token",{method:"POST",body:o});if(!i.ok)throw console.error("fetch tokens error:",await i.text()),new Error(i.statusText);await ot.setTokens(await i.json())};var{accessKey:nf}=(0,An.getPreferenceValues)(),wr=async(t,r)=>{let o=await ot.getTokens(),i=o?.accessToken;i?o?.refreshToken&&o?.isExpired()&&(await ot.setTokens(await of(o.refreshToken)),i=(await ot.getTokens())?.accessToken):(await An.LocalStorage.clear(),await Ha(),i=(await ot.getTokens())?.accessToken);let s=t.startsWith("https://api.unsplash.com/")?t:`https://api.unsplash.com${t}`;return await wt(s,{...r,headers:{Authorization:`Bearer ${i}`,...r?.headers}}).then(async c=>c.json())};async function of(t){let r=new URLSearchParams;r.append("client_id",nf),r.append("refresh_token",t),r.append("grant_type","refresh_token");let o=await wt("https://unsplash.com/oauth/token",{method:"POST",body:r});if(!o.ok)throw console.error("refresh tokens error:",await o.text()),new Error(o.statusText);let i=await o.json();return i.refresh_token=i.refresh_token??t,i}var Ya=(0,we.getPreferenceValues)(),Qa=()=>{let{gridItemSize:t}=Ya;return t=="small"?we.Grid.ItemSize.Small:t=="large"?we.Grid.ItemSize.Large:we.Grid.ItemSize.Medium},Ka=()=>Ya.showImageTitle,Xa=t=>t.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substring(1).toLowerCase()),Za=t=>t[0]==="~"?(0,Ga.join)((0,Va.homedir)(),t.slice(1)):t,Ja=async(t,r)=>{let o=await(0,we.showToast)(we.Toast.Style.Animated,"Liking photo...");try{await wr(`/photos/${t}/like`,{method:r?"DELETE":"POST"}),o.style=we.Toast.Style.Success,o.title=`Photo ${r?"unliked":"liked"}!`}catch{o.style=we.Toast.Style.Failure,o.title="An error occured"}};var Gn=require("react"),Hn=require("@raycast/api");var Ve=require("@raycast/api");var Lo=require("react");var F=require("react");function ns(t,r,o,i){function s(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(_){try{d(i.next(_))}catch(R){c(R)}}function m(_){try{d(i.throw(_))}catch(R){c(R)}}function d(_){_.done?u(_.value):s(_.value).then(h,m)}d((i=i.apply(t,r||[])).next())})}function os(t,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,s,u,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(_){return m([d,_])}}function m(d){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(u=d[0]&2?s.return:d[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,d[1])).done)return u;switch(s=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,s=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){o.label=d[1];break}if(d[0]===6&&o.label<u[1]){o.label=u[1],u=d;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(d);break}u[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(t,o)}catch(_){d=[6,_],s=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var De=function(){},ee=De(),Rr=Object,fe=function(t){return t===ee},Er=function(t){return typeof t=="function"},Ge=function(t,r){return Rr.assign({},t,r)},Do="undefined",qo=function(){return typeof window!=Do},af=function(){return typeof document!=Do},sf=function(){return qo()&&typeof window.requestAnimationFrame!=Do},kn=new WeakMap,uf=0,Cr=function(t){var r=typeof t,o=t&&t.constructor,i=o==Date,s,u;if(Rr(t)===t&&!i&&o!=RegExp){if(s=kn.get(t),s)return s;if(s=++uf+"~",kn.set(t,s),o==Array){for(s="@",u=0;u<t.length;u++)s+=Cr(t[u])+",";kn.set(t,s)}if(o==Rr){s="#";for(var c=Rr.keys(t).sort();!fe(u=c.pop());)fe(t[u])||(s+=u+":"+Cr(t[u])+",");kn.set(t,s)}}else s=i?t.toJSON():r=="symbol"?t.toString():r=="string"?JSON.stringify(t):""+t;return s},ko=!0,lf=function(){return ko},is=qo(),Wo=af(),Io=is&&window.addEventListener?window.addEventListener.bind(window):De,cf=Wo?document.addEventListener.bind(document):De,Oo=is&&window.removeEventListener?window.removeEventListener.bind(window):De,ff=Wo?document.removeEventListener.bind(document):De,df=function(){var t=Wo&&document.visibilityState;return fe(t)||t!=="hidden"},hf=function(t){return cf("visibilitychange",t),Io("focus",t),function(){ff("visibilitychange",t),Oo("focus",t)}},mf=function(t){var r=function(){ko=!0,t()},o=function(){ko=!1};return Io("online",r),Io("offline",o),function(){Oo("online",r),Oo("offline",o)}},pf={isOnline:lf,isVisible:df},bf={initFocus:hf,initReconnect:mf},In=!qo()||"Deno"in window,yf=function(t){return sf()?window.requestAnimationFrame(t):setTimeout(t,1)},vr=In?F.useEffect:F.useLayoutEffect,Po=typeof navigator<"u"&&navigator.connection,es=!In&&Po&&(["slow-2g","2g"].includes(Po.effectiveType)||Po.saveData),as=function(t){if(Er(t))try{t=t()}catch{t=""}var r=[].concat(t);t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Cr(t):"";var o=t?"$swr$"+t:"";return[t,r,o]},Rt=new WeakMap,ss=0,us=1,ls=2,Tr=function(t,r,o,i,s,u,c){c===void 0&&(c=!0);var h=Rt.get(t),m=h[0],d=h[1],_=h[3],R=m[r],y=d[r];if(c&&y)for(var g=0;g<y.length;++g)y[g](o,i,s);return u&&(delete _[r],R&&R[0])?R[0](ls).then(function(){return t.get(r)}):t.get(r)},gf=0,xo=function(){return++gf},cs=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ns(void 0,void 0,void 0,function(){var o,i,s,u,c,h,m,d,_,R,y,g,S,E,T,w,x,M,P,q;return os(this,function(A){switch(A.label){case 0:if(o=t[0],i=t[1],s=t[2],u=t[3],c=typeof u=="boolean"?{revalidate:u}:u||{},h=c.populateCache!==!1,m=c.revalidate!==!1,d=c.rollbackOnError!==!1,_=c.optimisticData,R=as(i),y=R[0],g=R[2],!y)return[2];if(S=Rt.get(o),E=S[2],t.length<3)return[2,Tr(o,y,o.get(y),ee,ee,m,h)];if(T=s,x=xo(),E[y]=[x,0],M=!fe(_),P=o.get(y),M&&(o.set(y,_),Tr(o,y,_)),Er(T))try{T=T(o.get(y))}catch(V){w=V}return T&&Er(T.then)?[4,T.catch(function(V){w=V})]:[3,2];case 1:if(T=A.sent(),x!==E[y][0]){if(w)throw w;return[2,T]}else w&&M&&d&&(h=!0,T=P,o.set(y,P));A.label=2;case 2:return h&&(w||o.set(y,T),o.set(g,Ge(o.get(g),{error:w}))),E[y][1]=xo(),[4,Tr(o,y,T,w,ee,m,h)];case 3:if(q=A.sent(),w)throw w;return[2,h?q:T]}})})},ts=function(t,r){for(var o in t)t[o][0]&&t[o][0](r)},fs=function(t,r){if(!Rt.has(t)){var o=Ge(bf,r),i={},s=cs.bind(ee,t),u=De;if(Rt.set(t,[i,{},{},{},s]),!In){var c=o.initFocus(setTimeout.bind(ee,ts.bind(ee,i,ss))),h=o.initReconnect(setTimeout.bind(ee,ts.bind(ee,i,us)));u=function(){c&&c(),h&&h(),Rt.delete(t)}}return[t,s,u]}return[t,Rt.get(t)[4]]},Sf=function(t,r,o,i,s){var u=o.errorRetryCount,c=s.retryCount,h=~~((Math.random()+.5)*(1<<(c<8?c:8)))*o.errorRetryInterval;!fe(u)&&c>u||setTimeout(i,h,s)},ds=fs(new Map),hs=ds[0],_f=ds[1],ms=Ge({onLoadingSlow:De,onSuccess:De,onError:De,onErrorRetry:Sf,onDiscarded:De,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:es?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:es?5e3:3e3,compare:function(t,r){return Cr(t)==Cr(r)},isPaused:function(){return!1},cache:hs,mutate:_f,fallback:{}},pf),ps=function(t,r){var o=Ge(t,r);if(r){var i=t.use,s=t.fallback,u=r.use,c=r.fallback;i&&u&&(o.use=i.concat(u)),s&&c&&(o.fallback=Ge(s,c))}return o},Bo=(0,F.createContext)({}),wf=function(t){var r=t.value,o=ps((0,F.useContext)(Bo),r),i=r&&r.provider,s=(0,F.useState)(function(){return i?fs(i(o.cache||hs),r):ee})[0];return s&&(o.cache=s[0],o.mutate=s[1]),vr(function(){return s?s[2]:ee},[]),(0,F.createElement)(Bo.Provider,Ge(t,{value:o}))},Rf=function(t,r){var o=(0,F.useState)({})[1],i=(0,F.useRef)(t),s=(0,F.useRef)({data:!1,error:!1,isValidating:!1}),u=(0,F.useCallback)(function(c){var h=!1,m=i.current;for(var d in c){var _=d;m[_]!==c[_]&&(m[_]=c[_],s.current[_]&&(h=!0))}h&&!r.current&&o({})},[]);return vr(function(){i.current=t}),[i,s.current,u]},vf=function(t){return Er(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}]},Tf=function(){return Ge(ms,(0,F.useContext)(Bo))},Ef=function(t){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=Tf(),u=vf(o),c=u[0],h=u[1],m=u[2],d=ps(s,m),_=t,R=d.use;if(R)for(var y=R.length;y-- >0;)_=R[y](_);return _(c,h||d.fetcher,d)}},rs=function(t,r,o){var i=r[t]||(r[t]=[]);return i.push(o),function(){var s=i.indexOf(o);s>=0&&(i[s]=i[i.length-1],i.pop())}},Ao={dedupe:!0},Cf=function(t,r,o){var i=o.cache,s=o.compare,u=o.fallbackData,c=o.suspense,h=o.revalidateOnMount,m=o.refreshInterval,d=o.refreshWhenHidden,_=o.refreshWhenOffline,R=Rt.get(i),y=R[0],g=R[1],S=R[2],E=R[3],T=as(t),w=T[0],x=T[1],M=T[2],P=(0,F.useRef)(!1),q=(0,F.useRef)(!1),A=(0,F.useRef)(w),V=(0,F.useRef)(r),Z=(0,F.useRef)(o),Y=function(){return Z.current},at=function(){return Y().isVisible()&&Y().isOnline()},ne=function(H){return i.set(M,Ge(i.get(M),H))},We=i.get(w),Qt=fe(u)?o.fallback[w]:u,ye=fe(We)?Qt:We,Dr=i.get(M)||{},Le=Dr.error,qr=function(){return fe(h)?Y().isPaused()?!1:c?!fe(ye):fe(ye)||o.revalidateIfStale:h},Wr=function(){return!w||!r?!1:Dr.isValidating?!0:!P.current&&qr()},Et=Wr(),Ct=Rf({data:ye,error:Le,isValidating:Et},q),Pe=Ct[0],st=Ct[1],ut=Ct[2],Fe=(0,F.useCallback)(function(H){return ns(void 0,void 0,void 0,function(){var U,oe,ie,te,$e,ae,Q,Ae,de,lt,ge,Qe,ct;return os(this,function(ke){switch(ke.label){case 0:if(U=V.current,!w||!U||q.current||Y().isPaused())return[2,!1];te=!0,$e=H||{},ae=!E[w]||!$e.dedupe,Q=function(){return!q.current&&w===A.current&&P.current},Ae=function(){var Kt=E[w];Kt&&Kt[1]===ie&&delete E[w]},de={isValidating:!1},lt=function(){ne({isValidating:!1}),Q()&&ut(de)},ne({isValidating:!0}),ut({isValidating:!0}),ke.label=1;case 1:return ke.trys.push([1,3,,4]),ae&&(Tr(i,w,Pe.current.data,Pe.current.error,!0),o.loadingTimeout&&!i.get(w)&&setTimeout(function(){te&&Q()&&Y().onLoadingSlow(w,o)},o.loadingTimeout),E[w]=[U.apply(void 0,x),xo()]),ct=E[w],oe=ct[0],ie=ct[1],[4,oe];case 2:return oe=ke.sent(),ae&&setTimeout(Ae,o.dedupingInterval),!E[w]||E[w][1]!==ie?(ae&&Q()&&Y().onDiscarded(w),[2,!1]):(ne({error:ee}),de.error=ee,ge=S[w],!fe(ge)&&(ie<=ge[0]||ie<=ge[1]||ge[1]===0)?(lt(),ae&&Q()&&Y().onDiscarded(w),[2,!1]):(s(Pe.current.data,oe)?de.data=Pe.current.data:de.data=oe,s(i.get(w),oe)||i.set(w,oe),ae&&Q()&&Y().onSuccess(oe,w,o),[3,4]));case 3:return Qe=ke.sent(),Ae(),Y().isPaused()||(ne({error:Qe}),de.error=Qe,ae&&Q()&&(Y().onError(Qe,w,o),o.shouldRetryOnError&&at()&&Y().onErrorRetry(Qe,w,o,Fe,{retryCount:($e.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return te=!1,lt(),Q()&&ae&&Tr(i,w,de.data,de.error,!1),[2,!0]}})})},[w]),Vn=(0,F.useCallback)(cs.bind(ee,i,function(){return A.current}),[]);if(vr(function(){V.current=r,Z.current=o}),vr(function(){if(!!w){var H=P.current,U=Fe.bind(ee,Ao),oe=function(Q,Ae,de){ut(Ge({error:Ae,isValidating:de},s(Pe.current.data,Q)?ee:{data:Q}))},ie=0,te=function(Q){if(Q==ss){var Ae=Date.now();Y().revalidateOnFocus&&Ae>ie&&at()&&(ie=Ae+Y().focusThrottleInterval,U())}else if(Q==us)Y().revalidateOnReconnect&&at()&&U();else if(Q==ls)return Fe()},$e=rs(w,g,oe),ae=rs(w,y,te);return q.current=!1,A.current=w,P.current=!0,H&&ut({data:ye,error:Le,isValidating:Et}),qr()&&(fe(ye)||In?U():yf(U)),function(){q.current=!0,$e(),ae()}}},[w,Fe]),vr(function(){var H;function U(){var ie=Er(m)?m(ye):m;ie&&H!==-1&&(H=setTimeout(oe,ie))}function oe(){!Pe.current.error&&(d||Y().isVisible())&&(_||Y().isOnline())?Fe(Ao).then(U):U()}return U(),function(){H&&(clearTimeout(H),H=-1)}},[m,d,_,Fe]),(0,F.useDebugValue)(ye),c&&fe(ye)&&w)throw V.current=r,Z.current=o,fe(Le)?Fe(Ao):Le;return{mutate:Vn,get data(){return st.data=!0,ye},get error(){return st.error=!0,Le},get isValidating(){return st.isValidating=!0,Et}}},Hm=Rr.defineProperty(wf,"default",{value:ms});var bs=Ef(Cf);var ys=()=>{let[t,r]=(0,Lo.useState)(!0),[o,i]=(0,Lo.useState)([]);return bs("get-user-likes",Pf,{onSuccess:s=>{s.errors?(r(!1),(0,Ve.showToast)(Ve.Toast.Style.Failure,"Failed to fetch likes.",s.errors?.join(`
`))):i(s),r(!1)},onError:s=>{(0,Ve.showToast)(Ve.Toast.Style.Failure,"Something went wrong.",String(s)),r(!1)}}),{loading:t,likes:o}},Pf=async()=>{let t=await Ve.LocalStorage.getItem("username");if(!t){let o=await wr("/me");Ve.LocalStorage.setItem("username",o.username),t=o.username}return await wr(`/users/${t}/likes`)};var D=require("@raycast/api");var ul=require("react");var xr=require("@raycast/api");var tl=Oe(require("node:process"),1),rl=Oe(el(),1);async function Yt(t){if(tl.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,rl.default)("osascript",["-e",t]);return r}var nl=async({url:t,id:r})=>{let{downloadSize:o}=(0,xr.getPreferenceValues)();try{await(0,xr.showHUD)("Please select a location to save the image..."),await Yt(`
      set outputFolder to choose folder with prompt "Please select an output folder:"
      set temp_folder to (POSIX path of outputFolder) & "${r}-${o}.jpg"
      set q_temp_folder to quoted form of temp_folder

      set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd
    `)}catch(i){console.error(i),await(0,xr.showHUD)("Couldn't save the image...")}};var be=require("@raycast/api");var ni=require("fs");var ol=async(t,r)=>{if(r==="hud")await(0,be.showHUD)(t);else return await(0,be.showToast)(be.Toast.Style.Animated,t)},oi=async({url:t,id:r,every:o,useHud:i=!1,isBackground:s=!1})=>{let{downloadSize:u,wallpaperPath:c}=(0,be.getPreferenceValues)(),h=Za(c||be.environment.supportPath),m;s||((0,ni.existsSync)(h)?m=await ol("Downloading and setting wallpaper...",i?"hud":"toast"):m=await ol("The selected path does not exist. Please select a valid path.",i?"hud":"toast"));let d=h.endsWith("/")?`${h}${r}-${u}.jpg`:`${h}/${r}-${u}.jpg`;try{let _=d,R=(0,ni.existsSync)(_)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;if(await Yt(`
      set temp_folder to (POSIX path of "${_}")
      set q_temp_folder to quoted form of temp_folder

      ${R}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${o?"every":"current"} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");return i?!s&&await(0,be.showHUD)("Wallpaper set!"):m&&(m.style=be.Toast.Style.Success,m.title="Wallpaper set!"),!0}catch(_){return console.error(_),m&&(m.style=be.Toast.Style.Failure,m.title="Something went wrong.",m.message="Try with another image or check your internet connection."),!1}};var it=require("@raycast/api");var il=require("fs"),al=async({url:t,id:r})=>{let o=await(0,it.showToast)(it.Toast.Style.Animated,"Downloading and copying image..."),i=it.environment.supportPath,s=i.endsWith("/")?`${i}${r}.jpg`:`${i}/${r}.jpg`;try{let u=s,c=(0,il.existsSync)(u)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;await Yt(`
      set temp_folder to (POSIX path of "${u}")
      set q_temp_folder to quoted form of temp_folder

      ${c}

      set x to alias (POSIX file temp_folder)
      set the clipboard to (read (contents of x) as JPEG picture)
    `),o.style=it.Toast.Style.Success,o.title="Image copied to the clipboard!"}catch(u){console.error(u),o.style=it.Toast.Style.Failure,o.title="Something went wrong.",o.message="Try with another image or check your internet connection."}};var Re=require("@raycast/api");var Ye=require("react/jsx-runtime"),wh=({result:t})=>{let r=t.urls?.regular||t.urls?.small||t.urls?.thumb,o=t.created_at?new Date(t.created_at).toLocaleString():"Unknown";return(0,Ye.jsx)(Re.Detail,{markdown:`![${t.alt_description}](${r})`,metadata:(0,Ye.jsxs)(Re.Detail.Metadata,{children:[t.description&&(0,Ye.jsx)(Re.Detail.Metadata.Label,{title:"Description",text:t.description}),(0,Ye.jsx)(Re.Detail.Metadata.Link,{title:"Author",text:t.user.username,target:t.user.links.html}),(0,Ye.jsx)(Re.Detail.Metadata.Label,{title:"Uploaded On",text:o,icon:Re.Icon.Calendar}),(0,Ye.jsx)(Re.Detail.Metadata.Label,{title:"Likes",text:String(t.likes),icon:Re.Icon.Heart}),(0,Ye.jsx)(Re.Detail.Metadata.Label,{title:"Dimensions",text:`${t.width}x${t.height}`,icon:Re.Icon.AppWindow})]}),navigationTitle:t.user?.name,actions:(0,Ye.jsx)(jn,{item:t})})},sl=wh;var j=require("react/jsx-runtime"),Rh=({details:t,item:r,unlike:o})=>(0,j.jsx)(D.ActionPanel,{children:(0,j.jsx)(vh,{details:t,item:r,unlike:o})}),vh=({details:t=!1,item:r,unlike:o})=>{let{push:i}=(0,D.useNavigation)(),{downloadSize:s}=(0,D.getPreferenceValues)(),[u,c]=(0,ul.useState)(r.liked_by_user),h=r.urls?.raw||r.urls?.full||r.urls?.regular||r.urls?.small,m=async()=>{await Ja(r.id,u),u&&o&&o(_=>[..._,String(r.id)]),c(!u)},d={url:r.urls?.[s]||h,id:`${r.id}-${s}`};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(D.ActionPanel.Section,{children:[t&&(0,j.jsx)(D.Action,{title:"Show Details",icon:D.Icon.List,onAction:()=>i((0,j.jsx)(sl,{result:r}))}),(0,j.jsx)(D.Action,{title:`${u?"Unlike":"Like"} Photo`,icon:D.Icon.Heart,style:u?D.Action.Style.Destructive:D.Action.Style.Regular,shortcut:{modifiers:["cmd"],key:"l"},onAction:m}),r.links?.html&&(0,j.jsx)(D.Action.OpenInBrowser,{url:r.links.html,title:"Open Original"}),r.user?.links?.html&&(0,j.jsx)(D.Action.OpenInBrowser,{url:r.user.links.html,icon:D.Icon.Person,shortcut:{modifiers:["cmd"],key:"o"},title:"Open Author"})]}),h&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(D.ActionPanel.Section,{title:"Image",children:[(0,j.jsx)(D.Action,{title:"Copy to Clipboard",icon:D.Icon.Clipboard,shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:()=>al(d)}),(0,j.jsx)(D.Action,{title:"Download Image",icon:D.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"d"},onAction:()=>nl({url:h,id:String(r.id)})})]}),(0,j.jsxs)(D.ActionPanel.Section,{title:"Set as Wallpaper On",children:[(0,j.jsx)(D.Action,{title:"Current Monitor",icon:D.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"w"},onAction:()=>oi({url:h,id:String(r.id)})}),(0,j.jsx)(D.Action,{title:"Every Monitor",icon:D.Icon.Desktop,shortcut:{modifiers:["shift","opt"],key:"w"},onAction:()=>oi({url:h,id:String(r.id),every:!0})})]})]}),(0,j.jsxs)(D.ActionPanel.Section,{title:"Links",children:[r.links?.html&&(0,j.jsx)(D.Action.CopyToClipboard,{content:r.links.html,title:"Copy URL to Clipboard",icon:D.Icon.Clipboard}),h&&(0,j.jsx)(D.Action.CopyToClipboard,{content:h,title:"Copy Image URL to Clipboard",icon:D.Icon.Clipboard}),r.user?.links?.html&&(0,j.jsx)(D.Action.CopyToClipboard,{content:r.user.links.html,title:"Copy Author URL to Clipboard",icon:D.Icon.Clipboard})]})]})},jn=Rh;var Br=require("react/jsx-runtime"),Th=()=>{let{loading:t,likes:r}=ys(),o=Qa(),[i,s]=(0,Gn.useState)([]),u=(0,Gn.useMemo)(()=>r?.filter(c=>!i.includes(String(c.id)))||[],[i,r]);return(0,Br.jsx)(Hn.Grid,{isLoading:t,itemSize:o,searchBarPlaceholder:"Search your likes...",children:(0,Br.jsx)(Hn.Grid.Section,{title:"Results",subtitle:String(u?.length),children:u?.map(c=>(0,Br.jsx)(Eh,{item:c,unlike:s},c.id))})})},Eh=({item:t,unlike:r})=>{let[o,i]=[t.title||t.description||t.user.name||"No Name",t.urls?.thumb||t.urls?.small||t.urls?.regular],s={...t,title:o,alt_description:""},u=Ka()?Xa(o):"";return(0,Br.jsx)(Hn.Grid.Item,{content:i,title:u,actions:(0,Br.jsx)(jn,{item:s,unlike:r,details:!0})})},Ch=Th;0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
